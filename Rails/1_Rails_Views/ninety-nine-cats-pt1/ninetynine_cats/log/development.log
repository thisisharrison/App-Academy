  [1m[35m (387.8ms)[0m  [1m[35mCREATE DATABASE "ninetynine_cats_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (98.1ms)[0m  [1m[35mCREATE DATABASE "ninetynine_cats_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (40.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2803807452268522245)[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateCats (20201031050603)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "cats" ("id" bigserial primary key, "name" character varying NOT NULL, "sex" character varying(1) NOT NULL, "color" character varying NOT NULL, "birth_date" date NOT NULL, "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20201031050603_create_cats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201031050603"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-10-31 05:22:23.799166"], ["updated_at", "2020-10-31 05:22:23.799166"]]
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2803807452268522245)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mCat Load (3.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:12
  [1m[36mCat Create (4.8ms)[0m  [1m[32mINSERT INTO "cats" ("name", "sex", "color", "birth_date", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Meow"], ["sex", "F"], ["color", "purple"], ["birth_date", "1993-10-30"], ["description", "first"], ["created_at", "2020-10-31 05:32:55.389189"], ["updated_at", "2020-10-31 05:32:55.389189"]]
  â†³ db/seeds.rb:12
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:13
  [1m[36mCat Create (0.4ms)[0m  [1m[32mINSERT INTO "cats" ("name", "sex", "color", "birth_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "NewYear"], ["sex", "M"], ["color", "black"], ["birth_date", "2000-12-31"], ["created_at", "2020-10-31 05:32:55.399293"], ["updated_at", "2020-10-31 05:32:55.399293"]]
  â†³ db/seeds.rb:13
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:14
  [1m[36mCat Create (0.4ms)[0m  [1m[32mINSERT INTO "cats" ("name", "sex", "color", "birth_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Valentine"], ["sex", "F"], ["color", "orange"], ["birth_date", "2020-02-14"], ["created_at", "2020-10-31 05:32:55.402140"], ["updated_at", "2020-10-31 05:32:55.402140"]]
  â†³ db/seeds.rb:14
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:14
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
Started GET "/cats" for ::1 at 2020-10-31 13:39:35 +0800
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  
ActionController::RoutingError (No route matches [GET] "/cats"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cats" for ::1 at 2020-10-31 13:39:56 +0800

ActionController::RoutingError - uninitialized constant CatsController:

Started POST "/__better_errors/57a3cafdd66e5e98/variables" for ::1 at 2020-10-31 13:39:56 +0800
Started GET "/cats" for ::1 at 2020-10-31 13:40:33 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (1.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:4
  Rendered cats/index.html.erb within layouts/application (562.9ms)
Completed 500 Internal Server Error in 578ms (ActiveRecord: 13.3ms)


  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98

NameError - undefined local variable or method `cats' for #<#<Class:0x00007fdb46dea250>:0x00007fdb46de3310>
Did you mean?  @cats:
  app/views/cats/index.html.erb:4:in `_app_views_cats_index_html_erb___2361335675275613361_70289881760240'
  app/controllers/cats_controller.rb:4:in `index'

Started POST "/__better_errors/e8112578ebd7f704/variables" for ::1 at 2020-10-31 13:40:34 +0800
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.1ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/e8112578ebd7f704/eval" for ::1 at 2020-10-31 13:40:42 +0800
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cats" for ::1 at 2020-10-31 13:40:54 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 922ms (Views: 919.9ms | ActiveRecord: 0.5ms)


Started GET "/cats/1" for ::1 at 2020-10-31 13:40:58 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (6.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE (1) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
Completed 500 Internal Server Error in 8ms (ActiveRecord: 6.2ms)



ActiveRecord::StatementInvalid - PG::DatatypeMismatch: ERROR:  argument of WHERE must be type boolean, not type integer
LINE 1: SELECT  "cats".* FROM "cats" WHERE (1) LIMIT $1
                                            ^
: SELECT  "cats".* FROM "cats" WHERE (1) LIMIT $1:
  app/controllers/cats_controller.rb:8:in `show'

Started POST "/__better_errors/76b558e83d0af5ed/variables" for ::1 at 2020-10-31 13:40:58 +0800
Started POST "/__better_errors/76b558e83d0af5ed/eval" for ::1 at 2020-10-31 13:41:05 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 13:41:18 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (439.6ms)
Completed 500 Internal Server Error in 483ms (ActiveRecord: 12.9ms)



NameError - undefined local variable or method `cat' for #<#<Class:0x00007fdb4c675de8>:0x00007fdb4c6744e8>
Did you mean?  @cat:
  app/views/cats/show.html.erb:1:in `_app_views_cats_show_html_erb__1648318271821672540_70289928223220'
  app/controllers/cats_controller.rb:9:in `show'

Started POST "/__better_errors/8c646fa82854ec15/variables" for ::1 at 2020-10-31 13:41:19 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 13:41:33 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (16.5ms)
Completed 200 OK in 49ms (Views: 46.6ms | ActiveRecord: 0.7ms)


Started GET "/cats/new" for ::1 at 2020-10-31 13:53:31 +0800
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms)



SyntaxError - syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^:
  app/views/cats/new.html.erb:33:in `'
  app/controllers/cats_controller.rb:13:in `new'

Started POST "/__better_errors/8e6cc5fd3f913fd3/variables" for ::1 at 2020-10-31 13:53:31 +0800
Started POST "/__better_errors/8e6cc5fd3f913fd3/variables" for ::1 at 2020-10-31 13:53:36 +0800
Started GET "/cats/new" for ::1 at 2020-10-31 13:53:59 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (34.2ms)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 0.0ms)



NameError - uninitialized constant Cat::CAT_COLOR:
  app/views/cats/new.html.erb:15:in `_app_views_cats_new_html_erb___3410430007417311410_70179105662780'
  app/controllers/cats_controller.rb:13:in `new'

Started POST "/__better_errors/3755efbbc943a897/variables" for ::1 at 2020-10-31 13:53:59 +0800
Started GET "/cats/new" for ::1 at 2020-10-31 13:54:26 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 290ms (Views: 289.5ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 13:54:52 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 41ms (Views: 40.1ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 13:55:14 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 29ms (Views: 28.0ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 13:55:22 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 52ms (Views: 51.4ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 13:55:29 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 13:56:11 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 32ms (Views: 31.0ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 14:11:32 +0800
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by CatsController#new as HTML
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `new' for nil:NilClass:
  app/controllers/cats_controller.rb:13:in `new'

Started POST "/__better_errors/accf60d481f77e9f/variables" for ::1 at 2020-10-31 14:11:33 +0800
Started GET "/cats/new" for ::1 at 2020-10-31 14:11:56 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (8.7ms)
Completed 200 OK in 325ms (Views: 324.2ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:04:19 +0800
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 307ms (Views: 299.8ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:04:24 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "color"=>"black", "birth_date"=>"", "description"=>""}}
Completed 500 Internal Server Error in 252ms (ActiveRecord: 0.0ms)



NameError - undefined local variable or method `cat' for #<CatsController:0x00007f890aad1408>
Did you mean?  catch:
  app/controllers/cats_controller.rb:31:in `cat_params'
  app/controllers/cats_controller.rb:18:in `create'

Started POST "/__better_errors/629c83af92b719f7/variables" for ::1 at 2020-10-31 15:04:25 +0800
Started GET "/cats/new" for ::1 at 2020-10-31 15:04:34 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 63ms (Views: 62.0ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:04:51 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "sex"=>"on", "color"=>"orange", "birth_date"=>"2020-10-31", "description"=>"jkslf"}}
Completed 500 Internal Server Error in 390ms (ActiveRecord: 0.0ms)



NameError - undefined local variable or method `cat' for #<CatsController:0x00007f890ac09f00>
Did you mean?  catch:
  app/controllers/cats_controller.rb:31:in `cat_params'
  app/controllers/cats_controller.rb:18:in `create'

Started POST "/__better_errors/3c177e74da51416d/variables" for ::1 at 2020-10-31 15:04:51 +0800
Started POST "/cats" for ::1 at 2020-10-31 15:05:29 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "sex"=>"on", "color"=>"orange", "birth_date"=>"2020-10-31", "description"=>"jkslf"}}
Unpermitted parameters: :sex, :color
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:20
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:20
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 136ms (Views: 78.6ms | ActiveRecord: 12.4ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:05:34 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 36ms (Views: 35.2ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:05:46 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "sex"=>"on", "color"=>"orange", "birth_date"=>"2020-10-31", "description"=>"adsf"}}
Unpermitted parameters: :sex, :color
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:20
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:20
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 44ms (Views: 36.4ms | ActiveRecord: 0.4ms)


Started POST "/cats" for ::1 at 2020-10-31 15:06:22 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "sex"=>"on", "color"=>"orange", "birth_date"=>"2020-10-31", "description"=>"fluffy"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:20
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:20
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 55ms (Views: 31.5ms | ActiveRecord: 7.6ms)


Started GET "/cats" for ::1 at 2020-10-31 15:07:56 +0800
Processing by CatsController#index as */*
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (1.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (31.8ms)
Completed 200 OK in 249ms (Views: 246.2ms | ActiveRecord: 1.7ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:08:19 +0800
Processing by CatsController#new as */*
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 120ms (Views: 119.2ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:09:53 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "sex"=>"on", "color"=>"orange", "birth_date"=>"2020-10-31", "description"=>""}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:24
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 67ms (Views: 40.3ms | ActiveRecord: 7.8ms)


  [1m[36mCat Load (2.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
Started GET "/cats/new" for ::1 at 2020-10-31 15:10:47 +0800
Processing by CatsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `new' for nil:NilClass:
  app/controllers/cats_controller.rb:17:in `new'

Started POST "/__better_errors/c3cd12a50f722a97/variables" for ::1 at 2020-10-31 15:10:47 +0800
Started GET "/cats/new" for ::1 at 2020-10-31 15:11:31 +0800
Processing by CatsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `new' for nil:NilClass:
  app/controllers/cats_controller.rb:17:in `new'

Started POST "/__better_errors/4d71bbabf58412ba/variables" for ::1 at 2020-10-31 15:11:31 +0800
Started POST "/__better_errors/4d71bbabf58412ba/eval" for ::1 at 2020-10-31 15:11:37 +0800
Started POST "/__better_errors/4d71bbabf58412ba/eval" for ::1 at 2020-10-31 15:11:40 +0800
Started GET "/cats/new" for ::1 at 2020-10-31 15:16:21 +0800
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (9.7ms)
Completed 200 OK in 273ms (Views: 267.2ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:16:29 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "sex"=>"on", "color"=>"orange", "birth_date"=>"2020-10-31", "description"=>""}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:24
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 55ms (Views: 27.7ms | ActiveRecord: 10.2ms)


Started GET "/cats" for ::1 at 2020-10-31 15:17:36 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (17.1ms)
Completed 200 OK in 54ms (Views: 52.7ms | ActiveRecord: 1.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:17:40 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 30ms (Views: 29.8ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:17:46 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "color"=>"black", "birth_date"=>"", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:24
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 32ms (Views: 26.1ms | ActiveRecord: 0.4ms)


Started POST "/cats" for ::1 at 2020-10-31 15:17:55 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"garfield", "sex"=>"M", "color"=>"black", "birth_date"=>"2020-10-31", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[36mCat Create (1.5ms)[0m  [1m[32mINSERT INTO "cats" ("name", "sex", "color", "birth_date", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "garfield"], ["sex", "M"], ["color", "black"], ["birth_date", "2020-10-31"], ["description", ""], ["created_at", "2020-10-31 07:17:55.119497"], ["updated_at", "2020-10-31 07:17:55.119497"]]
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cats_controller.rb:24
Redirected to http://localhost:3000/cats/4
Completed 302 Found in 12ms (ActiveRecord: 3.9ms)


Started GET "/cats/4" for ::1 at 2020-10-31 15:17:55 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 54ms (Views: 48.4ms | ActiveRecord: 1.0ms)


Started GET "/cats" for ::1 at 2020-10-31 15:18:18 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 49ms (Views: 47.4ms | ActiveRecord: 0.5ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:23:00 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (12.2ms)
Completed 200 OK in 63ms (Views: 62.3ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:23:03 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"ad", "color"=>"black", "birth_date"=>"", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:24
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 81ms (Views: 39.4ms | ActiveRecord: 14.3ms)


Started GET "/cat/4/edi" for ::1 at 2020-10-31 15:23:43 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat/4/edi"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat/4/edit" for ::1 at 2020-10-31 15:23:46 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat/4/edit"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:23:50 +0800
  
ActionController::RoutingError (No route matches [GET] "/cats/4/edit"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cats/4/update" for ::1 at 2020-10-31 15:24:07 +0800
  
ActionController::RoutingError (No route matches [GET] "/cats/4/update"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cats/4" for ::1 at 2020-10-31 15:24:24 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 62ms (Views: 37.6ms | ActiveRecord: 7.2ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:26:36 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 32ms (Views: 31.5ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:26:54 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 52ms (Views: 51.7ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:26:56 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 26ms (Views: 25.5ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:27:10 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 31ms (Views: 30.3ms | ActiveRecord: 0.0ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:27:24 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 30ms (Views: 29.5ms | ActiveRecord: 0.0ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:29:24 +0800
  
ActionController::RoutingError (No route matches [GET] "/cats/4/edit"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:30:12 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (5.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE (4) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
Completed 500 Internal Server Error in 25ms (ActiveRecord: 9.9ms)



ActiveRecord::StatementInvalid - PG::DatatypeMismatch: ERROR:  argument of WHERE must be type boolean, not type integer
LINE 1: SELECT  "cats".* FROM "cats" WHERE (4) LIMIT $1
                                            ^
: SELECT  "cats".* FROM "cats" WHERE (4) LIMIT $1:
  app/controllers/cats_controller.rb:34:in `edit'

Started POST "/__better_errors/3d6b7368d6166c5a/variables" for ::1 at 2020-10-31 15:30:12 +0800
Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:30:41 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (432.4ms)
Completed 500 Internal Server Error in 471ms (ActiveRecord: 9.9ms)



NameError - undefined local variable or method `cats' for #<#<Class:0x00007fa013926de0>:0x00007fa0139251c0>
Did you mean?  @cat:
  app/views/cats/edit.html.erb:3:in `_app_views_cats_edit_html_erb__1405311115975750301_70162679412500'
  app/controllers/cats_controller.rb:36:in `edit'

Started POST "/__better_errors/530578fc8a7e95a9/variables" for ::1 at 2020-10-31 15:30:42 +0800
Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:31:42 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (0.9ms)
Completed 200 OK in 49ms (Views: 45.7ms | ActiveRecord: 1.1ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:34:34 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (1.0ms)
Completed 200 OK in 42ms (Views: 39.3ms | ActiveRecord: 1.0ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:36:08 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (0.9ms)
Completed 200 OK in 29ms (Views: 27.8ms | ActiveRecord: 0.5ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:36:18 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (562.7ms)
Completed 500 Internal Server Error in 574ms (ActiveRecord: 0.5ms)



NameError - undefined local variable or method `checked' for #<#<Class:0x00007fa013926de0>:0x00007fa00d78b130>
Did you mean?  check_box:
  app/views/cats/edit.html.erb:14:in `_app_views_cats_edit_html_erb__1405311115975750301_70162698748480'
  app/controllers/cats_controller.rb:36:in `edit'

Started POST "/__better_errors/677ca75949af689d/variables" for ::1 at 2020-10-31 15:36:20 +0800
Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:36:42 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (1.2ms)
Completed 200 OK in 43ms (Views: 40.5ms | ActiveRecord: 0.4ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:36:44 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (1.1ms)
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.4ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:37:17 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (1.4ms)
Completed 200 OK in 39ms (Views: 37.1ms | ActiveRecord: 0.4ms)


Started PATCH "/cats/4" for ::1 at 2020-10-31 15:38:03 +0800
Processing by CatsController#update as HTML
  Parameters: {"cat"=>{"name"=>"Garfield", "sex"=>"M", "color"=>"orange", "birth_date"=>"1978-06-19", "description"=>"loves lasagna"}, "id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:40
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:42
  [1m[36mCat Update (4.4ms)[0m  [1m[33mUPDATE "cats" SET "name" = $1, "color" = $2, "birth_date" = $3, "description" = $4, "updated_at" = $5 WHERE "cats"."id" = $6[0m  [["name", "Garfield"], ["color", "orange"], ["birth_date", "1978-06-19"], ["description", "loves lasagna"], ["updated_at", "2020-10-31 07:38:03.081105"], ["id", 4]]
  â†³ app/controllers/cats_controller.rb:42
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cats_controller.rb:42
Redirected to http://localhost:3000/cats/4
Completed 302 Found in 15ms (ActiveRecord: 6.2ms)


Started GET "/cats/4" for ::1 at 2020-10-31 15:38:03 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 0.3ms)


Started GET "/cats/4" for ::1 at 2020-10-31 15:38:25 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 35ms (Views: 32.8ms | ActiveRecord: 0.4ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:40:40 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (1.5ms)
Completed 200 OK in 35ms (Views: 33.3ms | ActiveRecord: 0.3ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:42:08 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (0.3ms)
  Rendered cats/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 40ms (Views: 38.4ms | ActiveRecord: 0.3ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:42:57 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (0.6ms)
  Rendered cats/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 39ms (Views: 36.4ms | ActiveRecord: 0.5ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:51:17 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (3.2ms)
  Rendered cats/edit.html.erb within layouts/application (8.6ms)
Completed 200 OK in 72ms (Views: 65.4ms | ActiveRecord: 1.1ms)


Started GET "/cats/4/edit" for ::1 at 2020-10-31 15:51:19 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (3.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (3.1ms)
  Rendered cats/edit.html.erb within layouts/application (9.2ms)
Completed 200 OK in 66ms (Views: 60.4ms | ActiveRecord: 3.0ms)


Started PATCH "/cats/4" for ::1 at 2020-10-31 15:51:28 +0800
Processing by CatsController#update as HTML
  Parameters: {"cat"=>{"name"=>"Garfield", "sex"=>"M", "color"=>"orange", "birth_date"=>"1978-06-19", "description"=>"loves lasagna and sleeping\r\n    "}, "id"=>"4"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:40
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:42
  [1m[36mCat Update (0.7ms)[0m  [1m[33mUPDATE "cats" SET "description" = $1, "updated_at" = $2 WHERE "cats"."id" = $3[0m  [["description", "loves lasagna and sleeping\r\n    "], ["updated_at", "2020-10-31 07:51:28.340812"], ["id", 4]]
  â†³ app/controllers/cats_controller.rb:42
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cats_controller.rb:42
Redirected to http://localhost:3000/cats/4
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)


Started GET "/cats/4" for ::1 at 2020-10-31 15:51:28 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 0.5ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:52:20 +0800
Processing by CatsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `new' for nil:NilClass:
  app/controllers/cats_controller.rb:17:in `new'

Started POST "/__better_errors/24be9db119866108/variables" for ::1 at 2020-10-31 15:52:20 +0800
Started GET "/cats/new" for ::1 at 2020-10-31 15:52:31 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (395.8ms)
Completed 500 Internal Server Error in 472ms (ActiveRecord: 18.4ms)



NameError - undefined local variable or method `cat' for #<#<Class:0x00007fa00ca65cd0>:0x00007fa013a89840>
Did you mean?  @cat:
  app/views/cats/new.html.erb:1:in `_app_views_cats_new_html_erb___3941855414230070543_70162750642280'
  app/controllers/cats_controller.rb:18:in `new'

Started POST "/__better_errors/3fb6c939b7e06dc3/variables" for ::1 at 2020-10-31 15:52:32 +0800
Started GET "/cats/new" for ::1 at 2020-10-31 15:53:21 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/_form.html.erb (1.6ms)
  Rendered cats/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 55ms (Views: 53.9ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:53:39 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"Moon", "sex"=>"F", "color"=>"white", "birth_date"=>"2020-10-31", "description"=>"        \r\n    fluff"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[36mCat Create (1.8ms)[0m  [1m[32mINSERT INTO "cats" ("name", "sex", "color", "birth_date", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Moon"], ["sex", "F"], ["color", "white"], ["birth_date", "2020-10-31"], ["description", "        \r\n    fluff"], ["created_at", "2020-10-31 07:53:39.731731"], ["updated_at", "2020-10-31 07:53:39.731731"]]
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cats_controller.rb:24
Redirected to http://localhost:3000/cats/5
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)


Started GET "/cats/5" for ::1 at 2020-10-31 15:53:39 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 37ms (Views: 33.3ms | ActiveRecord: 0.8ms)


Started GET "/cats" for ::1 at 2020-10-31 15:53:44 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 36ms (Views: 34.6ms | ActiveRecord: 0.6ms)


Started GET "/cats/5/edit" for ::1 at 2020-10-31 15:53:58 +0800
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:34
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (1.4ms)
  Rendered cats/edit.html.erb within layouts/application (7.6ms)
Completed 200 OK in 48ms (Views: 44.5ms | ActiveRecord: 0.9ms)


Started PATCH "/cats/5" for ::1 at 2020-10-31 15:54:04 +0800
Processing by CatsController#update as HTML
  Parameters: {"cat"=>{"name"=>"Moon", "sex"=>"F", "color"=>"white", "birth_date"=>"2020-10-31", "description"=>"                \r\n    fluff as moon\r\n    "}, "id"=>"5"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:40
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:42
  [1m[36mCat Update (0.7ms)[0m  [1m[33mUPDATE "cats" SET "description" = $1, "updated_at" = $2 WHERE "cats"."id" = $3[0m  [["description", "                \r\n    fluff as moon\r\n    "], ["updated_at", "2020-10-31 07:54:04.222861"], ["id", 5]]
  â†³ app/controllers/cats_controller.rb:42
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cats_controller.rb:42
Redirected to http://localhost:3000/cats/5
Completed 302 Found in 8ms (ActiveRecord: 3.1ms)


Started GET "/cats/5" for ::1 at 2020-10-31 15:54:04 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 30ms (Views: 28.2ms | ActiveRecord: 0.4ms)


Started GET "/cats" for ::1 at 2020-10-31 15:54:07 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.4ms)


Started GET "/cats/new" for ::1 at 2020-10-31 15:57:33 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/_form.html.erb (5.7ms)
  Rendered cats/new.html.erb within layouts/application (14.8ms)
Completed 200 OK in 97ms (Views: 83.8ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 15:57:54 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"Felix", "sex"=>"M", "color"=>"black", "birth_date"=>"1919-11-09", "description"=>"        \r\n    oldest cat of all"}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[36mCat Create (0.6ms)[0m  [1m[32mINSERT INTO "cats" ("name", "sex", "color", "birth_date", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Felix"], ["sex", "M"], ["color", "black"], ["birth_date", "1919-11-09"], ["description", "        \r\n    oldest cat of all"], ["created_at", "2020-10-31 07:57:54.176449"], ["updated_at", "2020-10-31 07:57:54.176449"]]
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cats_controller.rb:24
Redirected to http://localhost:3000/cats/6
Completed 302 Found in 14ms (ActiveRecord: 1.7ms)


Started GET "/cats/6" for ::1 at 2020-10-31 15:57:54 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 115ms (Views: 96.1ms | ActiveRecord: 0.3ms)


Started GET "/cats" for ::1 at 2020-10-31 15:57:59 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 36ms (Views: 34.8ms | ActiveRecord: 0.6ms)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2803807452268522245)[0m
  â†³ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateCatRentalRequest (20201031080030)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (39.1ms)[0m  [1m[35mCREATE TABLE "cat_rental_requests" ("id" bigserial primary key, "cat_id" integer NOT NULL, "start_date" date NOT NULL, "end_date" date NOT NULL, "status" character varying DEFAULT 'PENDING' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20201031080030_create_cat_rental_request.rb:3
  [1m[35m (3.7ms)[0m  [1m[35mCREATE  INDEX  "index_cat_rental_requests_on_cat_id" ON "cat_rental_requests"  ("cat_id")[0m
  â†³ db/migrate/20201031080030_create_cat_rental_request.rb:11
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201031080030"]]
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(2803807452268522245)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" ORDER BY "cats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" ORDER BY "cats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[36mCatRentalRequest Load (3.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" ORDER BY "cats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:16
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[36mCatRentalRequest Create (1.4ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-10-29"], ["end_date", "2020-10-31"], ["created_at", "2020-10-31 08:14:50.585398"], ["updated_at", "2020-10-31 08:14:50.585398"]]
  â†³ db/seeds.rb:16
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:16
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_rental_requests.start_date BETWEEN '2020-10-29' AND '2020-10-31')[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_rental_requests.start_date BETWEEN '2020-10-29' AND '2020-10-31')[0m
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" ORDER BY "cats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2[0m  [["cat_id", 1], ["status", "APPROVED"]]
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2[0m  [["cat_id", 1], ["status", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29')[0m  [["cat_id", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 1], ["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 08:37:38.419917"], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29')[0m  [["cat_id", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2[0m  [["cat_id", 1], ["status", "APPROVED"]]
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-31' OR end_date < '2020-10-29') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 17:03:07 +0800
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered cat_rental_requests/new.html.erb within layouts/application (984.4ms)
Completed 500 Internal Server Error in 1009ms (ActiveRecord: 0.0ms)



SyntaxError - syntax error, unexpected '<'
...append=( cat.name.capitalize ></option>
...                              ^
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:10: unknown regexp options - lct
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:10: unmatched close parenthesis: /option>
        <% end );@output_buffer.safe_append='
    </
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:12: syntax error, unexpected '<'
    <br>
    ^
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:14: syntax error, unexpected tCONSTANT, expecting keyword_do or '{' or '('
...bel for="start_date">Start Date</label>
...                           ^~~~
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:20: unknown regexp options - labl
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:21: syntax error, unexpected '<'
    <br>
    ^
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:22: syntax error, unexpected tIDENTIFIER, expecting ')'
    <input type="date" id="end_date" name="cat_rental_...
                       ^~
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:22: syntax error, unexpected tIDENTIFIER, expecting ')'
... type="date" id="end_date" name="cat_rental_request[end_date...
...                           ^~~~
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:24: syntax error, unexpected '<'
    <br>
    ^
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:26: syntax error, unexpected tIDENTIFIER, expecting ')'
    <input type="submit" value="Submit">
                         ^~~~~
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:27: syntax error, unexpected '<'
</form>'.freeze;
^
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:31: unterminated regexp meets end of file
          end
             ^
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cat_rental_requests/new.html.erb:31: syntax error, unexpected end-of-input, expecting ')'
          end
             ^:
  app/views/cat_rental_requests/new.html.erb:8:in `'
  app/controllers/cat_rental_requests_controller.rb:4:in `new'

Started POST "/__better_errors/3941c34d967149d0/variables" for ::1 at 2020-10-31 17:03:08 +0800
  [1m[36mCat Load (1.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 17:03:26 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.4ms)


Started POST "/cat_rental_requests/new" for ::1 at 2020-10-31 17:03:38 +0800
  
ActionController::RoutingError (No route matches [POST] "/cat_rental_requests/new"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started POST "/cat_rental_requests/new" for ::1 at 2020-10-31 17:04:16 +0800
  
ActionController::RoutingError (No route matches [POST] "/cat_rental_requests/new"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started POST "/cat_rental_requests/new" for ::1 at 2020-10-31 17:06:11 +0800
  
ActionController::RoutingError (No route matches [POST] "/cat_rental_requests/new"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 17:07:42 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (27.1ms)
Completed 200 OK in 69ms (Views: 60.1ms | ActiveRecord: 8.8ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:07:49 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-03", "end_date"=>"2020-11-05"}}
Completed 200 OK in 28ms (Views: 0.5ms | ActiveRecord: 6.4ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:12:44 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-03", "end_date"=>"2020-10-05"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-05' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (1.0ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-11-03"], ["end_date", "2020-10-05"], ["created_at", "2020-10-31 09:12:44.748831"], ["updated_at", "2020-10-31 09:12:44.748831"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Completed 200 OK in 69ms (Views: 1.9ms | ActiveRecord: 18.2ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 17:12:53 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ app/controllers/cat_rental_requests_controller.rb:4
  Rendered cat_rental_requests/new.html.erb within layouts/application (499.1ms)
Completed 500 Internal Server Error in 513ms (ActiveRecord: 1.3ms)


  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.1ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" LIMIT $1[0m  [["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98

NameError - undefined local variable or method `selected' for #<#<Class:0x00007fa00c9ad270>:0x00007fa00c9a77a8>
Did you mean?  select:
  app/views/cat_rental_requests/new.html.erb:9:in `block in _app_views_cat_rental_requests_new_html_erb___2816042832836331914_70162691469760'
  app/views/cat_rental_requests/new.html.erb:7:in `_app_views_cat_rental_requests_new_html_erb___2816042832836331914_70162691469760'
  app/controllers/cat_rental_requests_controller.rb:4:in `new'

Started POST "/__better_errors/d46af62fb5fe4ba5/variables" for ::1 at 2020-10-31 17:12:54 +0800
Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 17:14:05 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 36ms (Views: 34.5ms | ActiveRecord: 0.4ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:14:13 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"start_date"=>"2020-11-03", "end_date"=>"2020-11-05"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" IS NULL AND NOT (start_date > '2020-11-05' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (22.2ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 4.1ms)



NoMethodError - undefined method `cat_id' for nil:NilClass:
  app/views/cat_rental_requests/new.html.erb:9:in `block in _app_views_cat_rental_requests_new_html_erb___2816042832836331914_70162754455460'
  app/views/cat_rental_requests/new.html.erb:7:in `_app_views_cat_rental_requests_new_html_erb___2816042832836331914_70162754455460'
  app/controllers/cat_rental_requests_controller.rb:13:in `create'

Started POST "/__better_errors/ef9621d3cd669195/variables" for ::1 at 2020-10-31 17:14:13 +0800
Started POST "/__better_errors/ef9621d3cd669195/eval" for ::1 at 2020-10-31 17:15:39 +0800
Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:16:37 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"start_date"=>"2020-11-03", "end_date"=>"2020-11-05"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" IS NULL AND NOT (start_date > '2020-11-05' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (22.1ms)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 14.5ms)



NoMethodError - undefined method `cat_id' for nil:NilClass:
  app/views/cat_rental_requests/new.html.erb:9:in `block in _app_views_cat_rental_requests_new_html_erb___2816042832836331914_70162691649700'
  app/views/cat_rental_requests/new.html.erb:7:in `_app_views_cat_rental_requests_new_html_erb___2816042832836331914_70162691649700'
  app/controllers/cat_rental_requests_controller.rb:13:in `create'

Started POST "/__better_errors/abd19273b680ca05/variables" for ::1 at 2020-10-31 17:16:38 +0800
Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:16:44 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"start_date"=>"2020-11-03", "end_date"=>"2020-11-05"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" IS NULL AND NOT (start_date > '2020-11-05' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (22.7ms)
Completed 500 Internal Server Error in 62ms (ActiveRecord: 14.7ms)



NoMethodError - undefined method `cat_id' for nil:NilClass:
  app/views/cat_rental_requests/new.html.erb:9:in `block in _app_views_cat_rental_requests_new_html_erb___2816042832836331914_70162754374920'
  app/views/cat_rental_requests/new.html.erb:7:in `_app_views_cat_rental_requests_new_html_erb___2816042832836331914_70162754374920'
  app/controllers/cat_rental_requests_controller.rb:13:in `create'

Started POST "/__better_errors/e54db33299b4e8bf/variables" for ::1 at 2020-10-31 17:16:44 +0800
Started POST "/__better_errors/e54db33299b4e8bf/eval" for ::1 at 2020-10-31 17:16:49 +0800
Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:18:13 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"start_date"=>"2020-11-03", "end_date"=>"2020-11-05"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" IS NULL AND NOT (start_date > '2020-11-05' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (16.5ms)
Completed 200 OK in 90ms (Views: 52.4ms | ActiveRecord: 14.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:18:19 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"", "end_date"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > NULL OR end_date < NULL) AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 41ms (Views: 28.5ms | ActiveRecord: 1.9ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:18:23 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-10-28", "end_date"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > NULL OR end_date < '2020-10-28') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 38ms (Views: 27.6ms | ActiveRecord: 1.8ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:18:27 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-05", "end_date"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > NULL OR end_date < '2020-11-05') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 58ms (Views: 49.7ms | ActiveRecord: 1.9ms)


Started GET "/cat_rental_requests" for ::1 at 2020-10-31 17:19:00 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 17:19:07 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 34ms (Views: 31.8ms | ActiveRecord: 0.9ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:19:12 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-06", "end_date"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > NULL OR end_date < '2020-11-06') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 34ms (Views: 24.4ms | ActiveRecord: 2.2ms)


Started GET "/cat_rental_requests" for ::1 at 2020-10-31 17:24:30 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requestsnew" for ::1 at 2020-10-31 17:24:35 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requestsnew"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 17:24:38 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (36.6ms)
Completed 200 OK in 136ms (Views: 91.4ms | ActiveRecord: 21.5ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 17:24:46 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-10-06", "end_date"=>"2020-10-07"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-07' OR end_date < '2020-10-06') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:26
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 64ms (Views: 44.6ms | ActiveRecord: 3.1ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:31:33 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (36.7ms)
Completed 200 OK in 106ms (Views: 63.3ms | ActiveRecord: 22.1ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:32:35 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 51ms (Views: 45.5ms | ActiveRecord: 3.5ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:32:43 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 1.3ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:32:50 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 39ms (Views: 36.1ms | ActiveRecord: 1.2ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:33:35 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:30
  Rendered cats/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 40ms (Views: 36.6ms | ActiveRecord: 1.3ms)


Started GET "/cats/2" for ::1 at 2020-10-31 17:34:01 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:30
  Rendered cats/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 66ms (Views: 62.3ms | ActiveRecord: 1.3ms)


Started GET "/cats/2" for ::1 at 2020-10-31 17:34:35 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
DEPRECATION WARNING: Delegating exists to arel is deprecated and will be removed in Rails 6.0. (called from _app_views_cats_show_html_erb__1070855769545748970_70162754550080 at /Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cats/show.html.erb:20)
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:31
  Rendered cats/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 35ms (Views: 31.7ms | ActiveRecord: 1.1ms)


Started GET "/cats/2" for ::1 at 2020-10-31 17:34:36 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
DEPRECATION WARNING: Delegating exists to arel is deprecated and will be removed in Rails 6.0. (called from _app_views_cats_show_html_erb__1070855769545748970_70162754373160 at /Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cats/show.html.erb:20)
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:31
  Rendered cats/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 31ms (Views: 28.6ms | ActiveRecord: 0.9ms)


Started GET "/cats/2" for ::1 at 2020-10-31 17:34:45 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 11]]
  â†³ app/controllers/cats_controller.rb:10
  Rendered cats/show.html.erb within layouts/application (12.6ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.9ms)


  [1m[36mCACHE CatRentalRequest Load (0.0ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98

NoMethodError - undefined method `empty' for #<ActiveRecord::Associations::CollectionProxy []>
Did you mean?  empty?:
  app/views/cats/show.html.erb:20:in `_app_views_cats_show_html_erb__1070855769545748970_70162749928120'
  app/controllers/cats_controller.rb:10:in `show'

Started POST "/__better_errors/3d34f58a2c400630/variables" for ::1 at 2020-10-31 17:34:45 +0800
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE CatRentalRequest Load (0.0ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE CatRentalRequest Load (0.0ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE CatRentalRequest Load (0.0ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE CatRentalRequest Load (0.0ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  [1m[36mCACHE CatRentalRequest Load (0.0ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cats/2" for ::1 at 2020-10-31 17:34:58 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:20
  Rendered cats/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 45ms (Views: 41.2ms | ActiveRecord: 1.2ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:35:03 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:20
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:31
  Rendered cats/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 37ms (Views: 34.1ms | ActiveRecord: 1.4ms)


Started GET "/cats/2" for ::1 at 2020-10-31 17:35:05 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:20
  Rendered cats/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 34ms (Views: 30.8ms | ActiveRecord: 0.9ms)


Started GET "/cats/3" for ::1 at 2020-10-31 17:35:07 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 3], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:20
  Rendered cats/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 45ms (Views: 42.2ms | ActiveRecord: 0.8ms)


Started GET "/cats/3" for ::1 at 2020-10-31 17:35:38 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 3], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  Rendered cats/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 45ms (Views: 39.8ms | ActiveRecord: 1.0ms)


Started GET "/cats/3" for ::1 at 2020-10-31 17:37:21 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 3], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  Rendered cats/show.html.erb within layouts/application (10.7ms)
Completed 200 OK in 63ms (Views: 33.2ms | ActiveRecord: 12.3ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:37:24 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:34
  Rendered cats/show.html.erb within layouts/application (21.9ms)
Completed 200 OK in 47ms (Views: 39.4ms | ActiveRecord: 6.5ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:57:22 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (2.5ms)
Completed 500 Internal Server Error in 55ms (ActiveRecord: 14.0ms)



SyntaxError - syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
...l_request_url(rental), method :post );@output_buffer.safe_ap...
...                              ^
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/cats/show.html.erb:42: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
...ental_request(rental), method :post );@output_buffer.safe_ap...
...                              ^:
  app/views/cats/show.html.erb:41:in `'
  app/controllers/cats_controller.rb:10:in `show'

Started POST "/__better_errors/7239d9c3339b334f/variables" for ::1 at 2020-10-31 17:57:22 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 17:57:51 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (375.0ms)
Completed 500 Internal Server Error in 390ms (ActiveRecord: 10.2ms)



NoMethodError - undefined method `deny_cat_rental_request' for #<#<Class:0x00007fa00b2cccb8>:0x00007fa00ef302b8>
Did you mean?  deny_cat_rental_request_url
               deny_cat_rental_request_path:
  app/views/cats/show.html.erb:42:in `block in _app_views_cats_show_html_erb__1070855769545748970_70162724324220'
  app/views/cats/show.html.erb:35:in `_app_views_cats_show_html_erb__1070855769545748970_70162724324220'
  app/controllers/cats_controller.rb:10:in `show'

Started POST "/__better_errors/992cf952dfd5aaac/variables" for ::1 at 2020-10-31 17:57:51 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 17:58:08 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (6.2ms)
Completed 200 OK in 53ms (Views: 49.7ms | ActiveRecord: 1.4ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 17:58:12 +0800

AbstractController::ActionNotFound - The action 'approve!' could not be found for CatRentalRequestsController:

Started POST "/__better_errors/7829d03d92682ca5/variables" for ::1 at 2020-10-31 17:58:12 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 17:58:48 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (32.7ms)
Completed 200 OK in 82ms (Views: 50.5ms | ActiveRecord: 14.0ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 17:58:50 +0800

AbstractController::ActionNotFound - The action 'approve!' could not be found for CatRentalRequestsController:

Started POST "/__better_errors/f17084dc578f518d/variables" for ::1 at 2020-10-31 17:58:50 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 17:59:16 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (29.4ms)
Completed 200 OK in 93ms (Views: 54.2ms | ActiveRecord: 14.8ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 17:59:17 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"JwMblHOGa7x0Mebs+hkk+g8Qf5mSN/7XeHUH+joflJ0/RV9DaPt1mPaj5fpvfLfz1JMNoYrIdP5WSaV6f4rUBg==", "id"=>"2"}
No template found for CatRentalRequestsController#approve, rendering head :no_content
Completed 204 No Content in 155ms (ActiveRecord: 0.0ms)


Started POST "/cat_rental_requests/2/deny" for ::1 at 2020-10-31 17:59:18 +0800
Processing by CatRentalRequestsController#deny as HTML
  Parameters: {"authenticity_token"=>"JwMblHOGa7x0Mebs+hkk+g8Qf5mSN/7XeHUH+joflJ0/RV9DaPt1mPaj5fpvfLfz1JMNoYrIdP5WSaV6f4rUBg==", "id"=>"2"}
No template found for CatRentalRequestsController#deny, rendering head :no_content
Completed 204 No Content in 156ms (ActiveRecord: 0.0ms)


Started POST "/cat_rental_requests/1/approve" for ::1 at 2020-10-31 17:59:19 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"JwMblHOGa7x0Mebs+hkk+g8Qf5mSN/7XeHUH+joflJ0/RV9DaPt1mPaj5fpvfLfz1JMNoYrIdP5WSaV6f4rUBg==", "id"=>"1"}
No template found for CatRentalRequestsController#approve, rendering head :no_content
Completed 204 No Content in 150ms (ActiveRecord: 0.0ms)


Started POST "/cat_rental_requests/1/deny" for ::1 at 2020-10-31 17:59:20 +0800
Processing by CatRentalRequestsController#deny as HTML
  Parameters: {"authenticity_token"=>"JwMblHOGa7x0Mebs+hkk+g8Qf5mSN/7XeHUH+joflJ0/RV9DaPt1mPaj5fpvfLfz1JMNoYrIdP5WSaV6f4rUBg==", "id"=>"1"}
No template found for CatRentalRequestsController#deny, rendering head :no_content
Completed 204 No Content in 151ms (ActiveRecord: 0.0ms)


Started GET "/cats/1" for ::1 at 2020-10-31 17:59:45 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (27.8ms)
Completed 200 OK in 76ms (Views: 45.2ms | ActiveRecord: 14.7ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 17:59:46 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"8J51mqxz59poUTNX5hxzx2uiB3ZgysJgtYttxHp4FCzo2DFNtw75/urDMEFzeeDOsCF1Tng1SEmbt89EP+1Utw==", "id"=>"2"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)



ActionView::MissingTemplate - Missing template cat_rental_requests/APPROVE, application/APPROVE with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views":
  app/controllers/cat_rental_requests_controller.rb:19:in `approve'

Started POST "/__better_errors/b8ae9f43650d05bf/variables" for ::1 at 2020-10-31 17:59:46 +0800
Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:00:00 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"8J51mqxz59poUTNX5hxzx2uiB3ZgysJgtYttxHp4FCzo2DFNtw75/urDMEFzeeDOsCF1Tng1SEmbt89EP+1Utw==", "id"=>"2"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/cat_rental_requests/2/deny" for ::1 at 2020-10-31 18:00:02 +0800
Processing by CatRentalRequestsController#deny as HTML
  Parameters: {"authenticity_token"=>"8J51mqxz59poUTNX5hxzx2uiB3ZgysJgtYttxHp4FCzo2DFNtw75/urDMEFzeeDOsCF1Tng1SEmbt89EP+1Utw==", "id"=>"2"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:00:54 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (48.5ms)
Completed 200 OK in 119ms (Views: 83.6ms | ActiveRecord: 16.5ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:00:55 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"oDYaPLmBrIL/crB0nnf2xQpuIjDKp5llFN+acB1ZXyC4cF7rovyypn3gs2ILEmXM0e1QCNJYE0w64zjwWMwfuw==", "id"=>"2"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/cat_rental_requests/2/deny" for ::1 at 2020-10-31 18:01:04 +0800
Processing by CatRentalRequestsController#deny as HTML
  Parameters: {"authenticity_token"=>"oDYaPLmBrIL/crB0nnf2xQpuIjDKp5llFN+acB1ZXyC4cF7rovyypn3gs2ILEmXM0e1QCNJYE0w64zjwWMwfuw==", "id"=>"2"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started POST "/cat_rental_requests/1/approve" for ::1 at 2020-10-31 18:01:06 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"oDYaPLmBrIL/crB0nnf2xQpuIjDKp5llFN+acB1ZXyC4cF7rovyypn3gs2ILEmXM0e1QCNJYE0w64zjwWMwfuw==", "id"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:02:46 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (44.6ms)
Completed 200 OK in 134ms (Views: 90.0ms | ActiveRecord: 17.3ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:02:47 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"hYgZGZi71q90WIZR4DOakxLVnZxXP81+E8k6+rDOCBidzl3Og8bIi/bKhUd1VgmayVbvpE/AR1c99Zh69VtIgw==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:03:55 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (30.8ms)
Completed 200 OK in 89ms (Views: 58.1ms | ActiveRecord: 14.6ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:03:56 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"VUCwW4alOpvaYWQRMDHuXCScz34wd9oS/kUVgsrBRsBNBvSMndgkv1jzZwelVH1V/x+9RiiIUDvQebcCj1QGWw==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
Completed 500 Internal Server Error in 139ms (ActiveRecord: 0.4ms)



NoMethodError - undefined method `cat' for #<CatRentalRequestsController:0x00007fa010cf3408>
Did you mean?  catch:
  app/controllers/cat_rental_requests_controller.rb:24:in `approve'

Started POST "/__better_errors/4ee05754a2606e96/variables" for ::1 at 2020-10-31 18:03:56 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 18:04:34 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (32.8ms)
Completed 200 OK in 103ms (Views: 64.4ms | ActiveRecord: 14.5ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:04:34 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"kNkRATglAcKIpuKX7dcL1PIDKyYUouQhXcdGm1LOMguIn1XWI1gf5go04YF4spjdKYBZHgxdbghz++QbF1tykA==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:04:34 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 34ms (Views: 31.0ms | ActiveRecord: 1.4ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:04:37 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"Kr2Pc8SBWw40VMlecwPEv3V6UrokxmmkRx26SW3J7EIy+8uk3/xFKrbGykjmZle2rvkggjw5441pIRjJKFys2Q==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:04:37 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (6.6ms)
Completed 200 OK in 33ms (Views: 29.5ms | ActiveRecord: 1.3ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:04:38 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"ktOCUXHxMU930SyI+89H+y4SusiKzZFL9zGAB9xtZiSKlcaGaowva/VDL55uqtTy9ZHI8JIyG2LZDSKHmfgmvw==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (2.9ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 6ms (ActiveRecord: 2.9ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:04:38 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 42ms (Views: 38.2ms | ActiveRecord: 1.5ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:05:00 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (30.6ms)
Completed 200 OK in 81ms (Views: 50.2ms | ActiveRecord: 14.2ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:05:01 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"qbYcFhkth5ZZArmokmv+7wgDxVwIhhXKNuSq/qE/BGKx8FjBAlCZstuQur4HDm3m04C3ZBB5n+MY2Ah+5KpE+Q==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-10-05' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 2], ["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:52
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 12ms (ActiveRecord: 2.9ms)



ActiveRecord::RecordInvalid - Validation failed: Start date must come before end date, End date must come after start date:
  app/models/cat_rental_request.rb:16:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/05c54c20c0f33270/variables" for ::1 at 2020-10-31 18:05:01 +0800
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cats/1" for ::1 at 2020-10-31 18:05:47 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (33.2ms)
Completed 200 OK in 89ms (Views: 57.1ms | ActiveRecord: 15.0ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:05:48 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"FSz5EJAC7ij31WoM6LJHRmUt0Zhgh+foBarQM7GQHHgNar3Hi3/wDHVHaRp919RPvq6joHh4bcErlnKz9AVc4w==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)


  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-31' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 2], ["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "end_date" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["end_date", "2020-12-31"], ["updated_at", "2020-10-31 10:06:42.732189"], ["id", 2]]
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2020-10-31 18:07:01 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (46.8ms)
Completed 200 OK in 122ms (Views: 80.3ms | ActiveRecord: 14.0ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:07:02 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"9jqUz0/pG04O6ZDjcOswI65ODyVfADnk6Ze9uXmAkDjufNAYVJQFaox7k/XljqMqdc19HUf/s83Hqx85PBXQow==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-31' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 2], ["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:52
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:07:02.813016"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-31' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3[0m  [["id", 2], ["cat_id", 1], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 17ms (ActiveRecord: 5.7ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:07:02 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 2.3ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:07:21 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (33.4ms)
Completed 200 OK in 83ms (Views: 50.8ms | ActiveRecord: 16.2ms)


Started POST "/cat_rental_requests/2/deny" for ::1 at 2020-10-31 18:07:22 +0800
Processing by CatRentalRequestsController#deny as HTML
  Parameters: {"authenticity_token"=>"lxhCBmzEMwgtLf9WLPdwjZWtWOu0DAj05BeGIxfMwL+PXgbRd7ktLK+//EC5kuOETi4q06zzgt3KKySjUlmAJA==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:29
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-31' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 2], ["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:52
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-10-31 10:07:22.341459"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:29
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 13ms (ActiveRecord: 3.8ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:07:22 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 46ms (Views: 43.1ms | ActiveRecord: 1.5ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:07:24 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"VqqjIBwx7PtH/4xbUIyXRRO6Jmg/XkU3c18sZXgGS15O7Of3B0zy38Vtj03F6QRMyDlUUCehzx5dY47lPZMLxQ==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)



RuntimeError - not pending:
  app/models/cat_rental_request.rb:11:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/a80fc5b66cb8357a/variables" for ::1 at 2020-10-31 18:07:24 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 18:07:45 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (32.2ms)
Completed 200 OK in 87ms (Views: 53.9ms | ActiveRecord: 16.1ms)


Started POST "/cat_rental_requests/2/approve" for ::1 at 2020-10-31 18:07:46 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"fFymiTgphsgMOmLfRoqDiom2zZBx/eCP1a5OUjQKWWxkGuJeI1SY7I6oYcnT7xCDUjW/qGkCaqb7kuzScZ8Z9w==", "id"=>"2"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-31' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 2], ["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:52
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (3.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:07:46.545612"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-31' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3[0m  [["id", 2], ["cat_id", 1], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 17ms (ActiveRecord: 6.3ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:07:46 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (5.6ms)
Completed 200 OK in 29ms (Views: 25.5ms | ActiveRecord: 1.5ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:07:59 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (28.2ms)
Completed 200 OK in 78ms (Views: 46.2ms | ActiveRecord: 14.0ms)


  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-31' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 2], ["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2020-10-31 10:08:32.989526"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2020-10-31 18:08:35 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 37ms (Views: 34.2ms | ActiveRecord: 1.3ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:09:48 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/show.html.erb within layouts/application (26.7ms)
Completed 200 OK in 86ms (Views: 57.3ms | ActiveRecord: 13.7ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:11:56 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.3ms)



SyntaxError - syntax error, unexpected ':', expecting ')'
...( render 'request_tr', @rental: rental );@output_buffer.safe...
...                              ^:
  app/views/cats/show.html.erb:36:in `'
  app/controllers/cats_controller.rb:10:in `show'

Started POST "/__better_errors/29330c3aeb41c8cc/variables" for ::1 at 2020-10-31 18:11:56 +0800
Started GET "/cats/1" for ::1 at 2020-10-31 18:12:14 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.4ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (13.4ms)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 1.8ms)


Started GET "/cats/1" for ::1 at 2020-10-31 18:13:12 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 1], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.9ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (38.2ms)
Completed 200 OK in 94ms (Views: 65.1ms | ActiveRecord: 14.1ms)


Started GET "/cats" for ::1 at 2020-10-31 18:13:16 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.4ms)


Started GET "/cats/2" for ::1 at 2020-10-31 18:13:20 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  Rendered cats/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 1.0ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 18:13:33 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 36ms (Views: 34.6ms | ActiveRecord: 0.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:13:42 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-01", "end_date"=>"2020-11-07"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (4.0ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-11-01"], ["end_date", "2020-11-07"], ["created_at", "2020-10-31 10:13:42.629483"], ["updated_at", "2020-10-31 10:13:42.629483"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Completed 200 OK in 37ms (Views: 0.9ms | ActiveRecord: 7.0ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:14:14 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-01", "end_date"=>"2020-11-07"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.5ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-11-01"], ["end_date", "2020-11-07"], ["created_at", "2020-10-31 10:14:14.373533"], ["updated_at", "2020-10-31 10:14:14.373533"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 56ms (ActiveRecord: 16.2ms)


Started GET "/cats/2" for ::1 at 2020-10-31 18:14:14 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.3ms)
  Rendered cats/_request_tr.html.erb (0.5ms)
  Rendered cats/show.html.erb within layouts/application (16.0ms)
Completed 200 OK in 43ms (Views: 39.6ms | ActiveRecord: 1.4ms)


  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Destroy (0.6ms)[0m  [1m[31mDELETE FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/2" for ::1 at 2020-10-31 18:15:39 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.4ms)
  Rendered cats/show.html.erb within layouts/application (33.6ms)
Completed 200 OK in 78ms (Views: 47.5ms | ActiveRecord: 16.4ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 18:15:53 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 34ms (Views: 33.2ms | ActiveRecord: 0.5ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:16:01 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-01", "end_date"=>"2020-11-07"}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-11-01"], ["end_date", "2020-11-07"], ["created_at", "2020-10-31 10:16:01.078216"], ["updated_at", "2020-10-31 10:16:01.078216"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 14ms (ActiveRecord: 4.0ms)


Started GET "/cats/2" for ::1 at 2020-10-31 18:16:01 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.6ms)
  Rendered cats/_request_tr.html.erb (0.8ms)
  Rendered cats/show.html.erb within layouts/application (16.4ms)
Completed 200 OK in 42ms (Views: 38.9ms | ActiveRecord: 1.7ms)


Started POST "/cat_rental_requests/5/approve" for ::1 at 2020-10-31 18:16:56 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"JPSH0SAchh/RceVAcwsg+G80Vy/UurxuMLe+cG40qx88ssMGO2GYO1Pj5lbmbrPxtLclF8xFNkceixzwK6HrhA==", "id"=>"5"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 5], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:16:56.893779"], ["id", 5]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3[0m  [["id", 5], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 3], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 20ms (ActiveRecord: 3.9ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/ba6dc7443f308b2b/variables" for ::1 at 2020-10-31 18:16:57 +0800
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/cat_rental_requests/5/approve" for ::1 at 2020-10-31 18:17:57 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"JPSH0SAchh/RceVAcwsg+G80Vy/UurxuMLe+cG40qx88ssMGO2GYO1Pj5lbmbrPxtLclF8xFNkceixzwK6HrhA==", "id"=>"5"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 5], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (3.1ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:17:57.935086"], ["id", 5]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3[0m  [["id", 5], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 3], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 66ms (ActiveRecord: 20.1ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/b7ef3644033e6d32/variables" for ::1 at 2020-10-31 18:17:58 +0800
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/b7ef3644033e6d32/eval" for ::1 at 2020-10-31 18:18:04 +0800
Started POST "/__better_errors/b7ef3644033e6d32/eval" for ::1 at 2020-10-31 18:18:14 +0800
Started POST "/__better_errors/b7ef3644033e6d32/eval" for ::1 at 2020-10-31 18:18:22 +0800
Started POST "/__better_errors/b7ef3644033e6d32/eval" for ::1 at 2020-10-31 18:18:32 +0800
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 5], ["cat_id", 2], ["status", "PENDING"], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/b7ef3644033e6d32/eval" for ::1 at 2020-10-31 18:20:55 +0800
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 5], ["cat_id", 2], ["status", "PENDING"], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/cat_rental_requests/3/approve" for ::1 at 2020-10-31 18:21:08 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"JPSH0SAchh/RceVAcwsg+G80Vy/UurxuMLe+cG40qx88ssMGO2GYO1Pj5lbmbrPxtLclF8xFNkceixzwK6HrhA==", "id"=>"3"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 3], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:21:08.110613"], ["id", 3]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3[0m  [["id", 3], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 5], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 17ms (ActiveRecord: 4.1ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/de18912936bc76d8/variables" for ::1 at 2020-10-31 18:21:08 +0800
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/de18912936bc76d8/eval" for ::1 at 2020-10-31 18:21:20 +0800
Started POST "/__better_errors/de18912936bc76d8/eval" for ::1 at 2020-10-31 18:21:30 +0800
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 3], ["cat_id", 2], ["status", "PENDING"], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/de18912936bc76d8/variables" for ::1 at 2020-10-31 18:21:58 +0800
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/de18912936bc76d8/variables" for ::1 at 2020-10-31 18:21:59 +0800
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/de18912936bc76d8/variables" for ::1 at 2020-10-31 18:22:01 +0800
Started GET "/cats" for ::1 at 2020-10-31 18:24:03 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 54ms (Views: 52.3ms | ActiveRecord: 0.6ms)


Started GET "/cats/new" for ::1 at 2020-10-31 18:24:33 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/_form.html.erb (2.0ms)
  Rendered cats/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 39ms (Views: 38.4ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-10-31 18:24:54 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"ActuallyDog", "sex"=>"M", "color"=>"brown", "birth_date"=>"2020-10-30", "description"=>"        \r\n    "}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[36mCat Create (1.9ms)[0m  [1m[32mINSERT INTO "cats" ("name", "sex", "color", "birth_date", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "ActuallyDog"], ["sex", "M"], ["color", "brown"], ["birth_date", "2020-10-30"], ["description", "        \r\n    "], ["created_at", "2020-10-31 10:24:54.097856"], ["updated_at", "2020-10-31 10:24:54.097856"]]
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cats_controller.rb:24
Redirected to http://localhost:3000/cats/7
Completed 302 Found in 9ms (ActiveRecord: 2.8ms)


Started GET "/cats/7" for ::1 at 2020-10-31 18:24:54 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  Rendered cats/show.html.erb within layouts/application (8.1ms)
Completed 200 OK in 34ms (Views: 30.4ms | ActiveRecord: 1.0ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 18:25:12 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 40ms (Views: 38.8ms | ActiveRecord: 0.5ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:25:26 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"7", "start_date"=>"2020-11-01", "end_date"=>"2020-11-03"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-03' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 7], ["start_date", "2020-11-01"], ["end_date", "2020-11-03"], ["created_at", "2020-10-31 10:25:26.592146"], ["updated_at", "2020-10-31 10:25:26.592146"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/7
Completed 302 Found in 46ms (ActiveRecord: 3.9ms)


Started GET "/cats/7" for ::1 at 2020-10-31 18:25:26 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.9ms)
  Rendered cats/show.html.erb within layouts/application (11.8ms)
Completed 200 OK in 49ms (Views: 45.7ms | ActiveRecord: 1.3ms)


Started POST "/cat_rental_requests/6/approve" for ::1 at 2020-10-31 18:25:29 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"yZw48DLf2Ks/gaQ5n40KoP6eAgpTvwyZ+hO6mXnjPTzR2nwnKaLGj70Tpy8K6JmpJR1wMktAhrDULxgZPHZ9pw==", "id"=>"6"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-03' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 6], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:25:29.729771"], ["id", 6]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-03' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3[0m  [["id", 6], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/7
Completed 302 Found in 18ms (ActiveRecord: 3.9ms)


Started GET "/cats/7" for ::1 at 2020-10-31 18:25:29 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.8ms)
  Rendered cats/show.html.erb within layouts/application (7.8ms)
Completed 200 OK in 45ms (Views: 34.3ms | ActiveRecord: 1.2ms)


Started GET "/cats/2" for ::1 at 2020-10-31 18:25:47 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.7ms)
  Rendered cats/_request_tr.html.erb (0.9ms)
  Rendered cats/show.html.erb within layouts/application (16.1ms)
Completed 200 OK in 57ms (Views: 52.9ms | ActiveRecord: 2.1ms)


Started POST "/cat_rental_requests/3/deny" for ::1 at 2020-10-31 18:25:49 +0800
Processing by CatRentalRequestsController#deny as HTML
  Parameters: {"authenticity_token"=>"LAYdI4IhDdCAHzrYNxqaXC1HqZW6LkKhTlhQEUGZtQM0QFn0mVwT9AKNOc6ifwlV9sTbraLRyIhgZPKRBAz1mA==", "id"=>"3"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:29
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 3], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-10-31 10:25:49.542748"], ["id", 3]]
  â†³ app/models/cat_rental_request.rb:29
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:29
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 10ms (ActiveRecord: 2.8ms)


Started GET "/cats/2" for ::1 at 2020-10-31 18:25:49 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.6ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/show.html.erb within layouts/application (10.4ms)
Completed 200 OK in 47ms (Views: 44.4ms | ActiveRecord: 1.2ms)


Started POST "/cat_rental_requests/5/approve" for ::1 at 2020-10-31 18:25:52 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"bJ2PmkxJOThcHoCoyvKJSgo25yavm0OCsLO/EIhjt85028tNVzQnHN6Mg75flxpD0bWVHrdkyauejx2Qzfb3VQ==", "id"=>"5"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 5], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:25:52.387856"], ["id", 5]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3[0m  [["id", 5], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 15ms (ActiveRecord: 3.8ms)


Started GET "/cats/2" for ::1 at 2020-10-31 18:25:52 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (11.0ms)
Completed 200 OK in 70ms (Views: 43.1ms | ActiveRecord: 1.4ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 18:26:05 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 45ms (Views: 43.3ms | ActiveRecord: 0.5ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:26:16 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"7", "start_date"=>"2020-11-01", "end_date"=>"2020-11-07"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-07' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 67ms (Views: 57.2ms | ActiveRecord: 1.8ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:26:26 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"7", "start_date"=>"2020-11-08", "end_date"=>"2020-11-14"}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.5ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 7], ["start_date", "2020-11-08"], ["end_date", "2020-11-14"], ["created_at", "2020-10-31 10:26:26.194342"], ["updated_at", "2020-10-31 10:26:26.194342"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/7
Completed 302 Found in 45ms (ActiveRecord: 3.1ms)


Started GET "/cats/7" for ::1 at 2020-10-31 18:26:26 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.8ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (17.3ms)
Completed 200 OK in 62ms (Views: 59.3ms | ActiveRecord: 2.1ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 18:27:23 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 51ms (Views: 49.7ms | ActiveRecord: 0.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:27:37 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"7", "start_date"=>"2020-11-08", "end_date"=>"2020-11-14"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.5ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 7], ["start_date", "2020-11-08"], ["end_date", "2020-11-14"], ["created_at", "2020-10-31 10:27:37.226776"], ["updated_at", "2020-10-31 10:27:37.226776"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/7
Completed 302 Found in 12ms (ActiveRecord: 2.9ms)


Started GET "/cats/7" for ::1 at 2020-10-31 18:27:37 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.5ms)
  Rendered cats/_request_tr.html.erb (0.8ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (16.0ms)
Completed 200 OK in 44ms (Views: 41.0ms | ActiveRecord: 1.2ms)


Started POST "/cat_rental_requests/7/approve" for ::1 at 2020-10-31 18:27:45 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"Z6dVVf0aOoAWD1Se46UAUjrG4AEMHU7TGyrXhzhERL5/4RGC5mckpJSdV4h2wJNb4UWSORTixPo1FnUHfdEEJQ==", "id"=>"7"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:27:45.184238"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 36ms (ActiveRecord: 4.1ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/ca47f4522db7d8b5/variables" for ::1 at 2020-10-31 18:27:45 +0800
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 18:28:57 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 50ms (Views: 48.3ms | ActiveRecord: 0.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:29:07 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"7", "start_date"=>"2020-11-08", "end_date"=>"2020-10-07"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-10-07' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 37ms (Views: 28.2ms | ActiveRecord: 1.9ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 18:29:15 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"7", "start_date"=>"2020-11-08", "end_date"=>"2020-11-11"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 7], ["start_date", "2020-11-08"], ["end_date", "2020-11-11"], ["created_at", "2020-10-31 10:29:15.895095"], ["updated_at", "2020-10-31 10:29:15.895095"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/7
Completed 302 Found in 11ms (ActiveRecord: 2.6ms)


Started GET "/cats/7" for ::1 at 2020-10-31 18:29:15 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.7ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.8ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (35.4ms)
Completed 200 OK in 63ms (Views: 59.1ms | ActiveRecord: 1.8ms)


Started POST "/cat_rental_requests/9/approve" for ::1 at 2020-10-31 18:29:19 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"9JZB7h9xVmjLi5wHcTyfncLL9GlY7dHx2QQxxWHc8Ibs0AU5BAxITEkZnxHkWQyUGUiGUUASW9j3OJNFJEmwHQ==", "id"=>"9"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 9], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:29:19.885059"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 9], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 52ms (ActiveRecord: 4.4ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/fe420fa074898271/variables" for ::1 at 2020-10-31 18:29:19 +0800
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cats/7" for ::1 at 2020-10-31 18:32:41 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.6ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (44.8ms)
Completed 200 OK in 118ms (Views: 81.8ms | ActiveRecord: 16.5ms)


Started POST "/cat_rental_requests/7/approve" for ::1 at 2020-10-31 18:32:43 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"m482k3gb2tzv8mbklNSXLk25ScdON4nT+v2MfEyn5dmDyXJEY2bE+G1gZfIBsQQnljo7/1bIA/rUwS78CTKlQg==", "id"=>"7"}
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (2.1ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:32:43.596390"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:22
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 55ms (ActiveRecord: 5.9ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:22:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/f41700f2d225c48c/variables" for ::1 at 2020-10-31 18:32:43 +0800
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cats/7" for ::1 at 2020-10-31 18:42:32 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (499.5ms)
  Rendered cats/show.html.erb within layouts/application (545.1ms)
Completed 500 Internal Server Error in 603ms (ActiveRecord: 25.5ms)



NameError - undefined local variable or method `req' for #<#<Class:0x00007fa00b468ea0>:0x00007fa00b467550>:
  app/views/cats/_request_tr.html.erb:6:in `_app_views_cats__request_tr_html_erb__4148365229547962686_70162756347180'
  app/views/cats/show.html.erb:36:in `block in _app_views_cats_show_html_erb__1070855769545748970_70162680328480'
  app/views/cats/show.html.erb:35:in `_app_views_cats_show_html_erb__1070855769545748970_70162680328480'
  app/controllers/cats_controller.rb:10:in `show'

Started POST "/__better_errors/b35a81f397f17ed7/variables" for ::1 at 2020-10-31 18:42:33 +0800
Started GET "/cats/7" for ::1 at 2020-10-31 18:42:46 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.9ms)
  Rendered cats/_request_tr.html.erb (0.9ms)
  Rendered cats/_request_tr.html.erb (0.6ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/show.html.erb within layouts/application (22.2ms)
Completed 200 OK in 82ms (Views: 78.3ms | ActiveRecord: 1.5ms)


Started POST "/cat_rental_requests/7/approve" for ::1 at 2020-10-31 18:42:48 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"4nNOTwAv1NDpsHFVCTrlBQfsXiiwdZ7t4yZ0TONmf4b6NQqYG1LK9GsickOcX3YM3G8sEKiKFMTNGtbMpvM/HQ==", "id"=>"7"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:42:48.069136"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 26ms (ActiveRecord: 6.5ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/c0f3c68362dfd8f7/variables" for ::1 at 2020-10-31 18:42:48 +0800
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/cat_rental_requests/7/approve" for ::1 at 2020-10-31 18:43:43 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"4nNOTwAv1NDpsHFVCTrlBQfsXiiwdZ7t4yZ0TONmf4b6NQqYG1LK9GsickOcX3YM3G8sEKiKFMTNGtbMpvM/HQ==", "id"=>"7"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:43:43.620196"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"], ["LIMIT", 11]]
  â†³ app/models/cat_rental_request.rb:21
  [1m[36mCACHE CatRentalRequest Load (0.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"]]
  â†³ (byebug):1
  [1m[36mCatRentalRequest Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 500 Internal Server Error in 75967ms (ActiveRecord: 20.4ms)



SystemExit - exit:
  (byebug):1:in `rescue in block in within_new_transaction'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/0ea5130d1c1fb4c3/variables" for ::1 at 2020-10-31 18:44:59 +0800
  [1m[36mCat Load (7.9ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/cat_rental_requests/7/approve" for ::1 at 2020-10-31 18:45:06 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"4nNOTwAv1NDpsHFVCTrlBQfsXiiwdZ7t4yZ0TONmf4b6NQqYG1LK9GsickOcX3YM3G8sEKiKFMTNGtbMpvM/HQ==", "id"=>"7"}
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (1.3ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:45:06.364003"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (1.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ (byebug):1
  [1m[36mCACHE CatRentalRequest Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
Completed 500 Internal Server Error in 61196ms (ActiveRecord: 9.7ms)



SystemExit - exit:
  (byebug):1:in `rescue in block in within_new_transaction'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/bc354d4c4737876d/variables" for ::1 at 2020-10-31 18:46:07 +0800
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/bc354d4c4737876d/variables" for ::1 at 2020-10-31 18:46:23 +0800
Started POST "/cat_rental_requests/7/approve" for ::1 at 2020-10-31 18:46:34 +0800
Started GET "/cat_rental_requests" for ::1 at 2020-10-31 18:46:45 +0800
Started GET "/cats/7" for ::1 at 2020-10-31 18:46:45 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"4nNOTwAv1NDpsHFVCTrlBQfsXiiwdZ7t4yZ0TONmf4b6NQqYG1LK9GsickOcX3YM3G8sEKiKFMTNGtbMpvM/HQ==", "id"=>"7"}
  [1m[36mCatRentalRequest Load (2.8ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (2.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
Started GET "/" for ::1 at 2020-10-31 18:52:21 +0800
  [1m[35m (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/templates/rails/welcome/index.html.erb (9.5ms)
Completed 200 OK in 67ms (Views: 36.2ms | ActiveRecord: 0.0ms)


Started GET "/cats" for ::1 at 2020-10-31 18:52:25 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (1.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (28.1ms)
Completed 200 OK in 280ms (Views: 256.2ms | ActiveRecord: 10.7ms)


Started GET "/cats/2" for ::1 at 2020-10-31 18:52:28 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.3ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/show.html.erb within layouts/application (82.0ms)
Completed 200 OK in 119ms (Views: 94.4ms | ActiveRecord: 19.1ms)


Started GET "/cats/7" for ::1 at 2020-10-31 18:52:33 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.2ms)
  Rendered cats/_request_tr.html.erb (0.3ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (23.2ms)
Completed 200 OK in 53ms (Views: 50.2ms | ActiveRecord: 1.7ms)


Started POST "/cat_rental_requests/7/approve" for ::1 at 2020-10-31 18:52:35 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"JcEylYllBk7jDuukzhg9lyNZZ9KVMPPE8PiT8N6Qqo6tHefxgmEzik3Kssnx7uhWHB3RRvux+0+84Kv3Wexj5A==", "id"=>"7"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:52:35.368917"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 17ms (ActiveRecord: 4.8ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/017f8d097cdb9dec/variables" for ::1 at 2020-10-31 18:52:35 +0800
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cats/7" for ::1 at 2020-10-31 18:53:28 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.4ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (20.5ms)
Completed 200 OK in 68ms (Views: 63.5ms | ActiveRecord: 1.8ms)


Started POST "/cat_rental_requests/7/approve" for ::1 at 2020-10-31 18:53:29 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"5J4JnWRO0b4YGpop1azUXGtDR5WljHyERkYZ9fWwaIpsQtz5b0rkerbew0TqWgGdVAfxAcsNdA8KXiHycsyh4A==", "id"=>"7"}
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 10:53:29.567449"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 7], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 20ms (ActiveRecord: 4.3ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/0834b7461e2b6520/variables" for ::1 at 2020-10-31 18:53:29 +0800
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/0834b7461e2b6520/eval" for ::1 at 2020-10-31 18:53:37 +0800
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1[0m  [["cat_id", 7]]
Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 19:02:26 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (17.0ms)
Completed 200 OK in 108ms (Views: 98.5ms | ActiveRecord: 1.3ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 19:02:34 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"3", "start_date"=>"2020-11-01", "end_date"=>"2020-11-02"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 3], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (3.7ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 3], ["start_date", "2020-11-01"], ["end_date", "2020-11-02"], ["created_at", "2020-10-31 11:02:34.617819"], ["updated_at", "2020-10-31 11:02:34.617819"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/3
Completed 302 Found in 54ms (ActiveRecord: 9.3ms)


Started GET "/cats/3" for ::1 at 2020-10-31 19:02:34 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 3], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 3]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (4.0ms)
  Rendered cats/show.html.erb within layouts/application (16.6ms)
Completed 200 OK in 74ms (Views: 70.4ms | ActiveRecord: 1.8ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 19:02:42 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (1.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (8.4ms)
Completed 200 OK in 92ms (Views: 89.6ms | ActiveRecord: 1.5ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 19:02:50 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"3", "start_date"=>"2020-11-03", "end_date"=>"2020-11-04"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-04' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 3], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 3], ["start_date", "2020-11-03"], ["end_date", "2020-11-04"], ["created_at", "2020-10-31 11:02:50.777236"], ["updated_at", "2020-10-31 11:02:50.777236"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/3
Completed 302 Found in 27ms (ActiveRecord: 2.7ms)


Started GET "/cats/3" for ::1 at 2020-10-31 19:02:50 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 3], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 3]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.5ms)
  Rendered cats/_request_tr.html.erb (1.0ms)
  Rendered cats/show.html.erb within layouts/application (13.3ms)
Completed 200 OK in 50ms (Views: 47.0ms | ActiveRecord: 1.4ms)


Started POST "/cat_rental_requests/10/approve" for ::1 at 2020-10-31 19:02:53 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"OkgeuxVPzIwni+GffHoTE61GSo42s4o7wT7Ch6Vin+KylMvfHkv5SIlPuPJDjMbSkgL8GlgygrCNJvqAIh5WiA==", "id"=>"10"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 10], ["cat_id", 3], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 11:02:53.595548"], ["id", 10]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3[0m  [["id", 10], ["cat_id", 3], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/3
Completed 302 Found in 44ms (ActiveRecord: 4.6ms)


Started GET "/cats/3" for ::1 at 2020-10-31 19:02:53 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 3], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 3]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.5ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (13.8ms)
Completed 200 OK in 52ms (Views: 50.0ms | ActiveRecord: 1.2ms)


Started POST "/cat_rental_requests/11/deny" for ::1 at 2020-10-31 19:02:57 +0800
Processing by CatRentalRequestsController#deny as HTML
  Parameters: {"authenticity_token"=>"Tht2/KbknfVI+HCgPUs9OM0Hc8vBLUrUCPIpXiY/49bGx6OYreCoMeY8Kc0Cvej58kPFX6+sQl9E6hFZoUMqvA==", "id"=>"11"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:29
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-04' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 11], ["cat_id", 3], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-10-31 11:02:57.798820"], ["id", 11]]
  â†³ app/models/cat_rental_request.rb:29
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:29
Redirected to http://localhost:3000/cats/3
Completed 302 Found in 36ms (ActiveRecord: 3.0ms)


Started GET "/cats/3" for ::1 at 2020-10-31 19:02:57 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 3], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 3]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.8ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (11.5ms)
Completed 200 OK in 49ms (Views: 45.7ms | ActiveRecord: 1.3ms)


  [1m[36mCatRentalRequest Load (1.3ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (2.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 9], ["cat_id", 7], ["status", "PENDING"]]
  [1m[36mCatRentalRequest Load (1.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 9], ["cat_id", 7], ["status", "PENDING"]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 7], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-10-31 11:06:16.320734"], ["id", 7]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 8], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-10-31 11:06:16.333539"], ["id", 8]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 9], ["cat_id", 7], ["status", "PENDING"]]
Started GET "/cats/7" for ::1 at 2020-10-31 19:07:51 +0800
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.3ms)
  Rendered cats/_request_tr.html.erb (0.3ms)
  Rendered cats/_request_tr.html.erb (1.1ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/show.html.erb within layouts/application (88.4ms)
Completed 200 OK in 393ms (Views: 340.6ms | ActiveRecord: 17.8ms)


Started POST "/cat_rental_requests/9/approve" for ::1 at 2020-10-31 19:07:56 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"tr35ro++ytEP2dYV9nATEaHYhVw7bChCmneM6Ci2nKA+YSzKhLr/FaEdj3jJhsbQnpwzyFXtIMnWb7Tvr8pVyg==", "id"=>"9"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 9], ["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 11:07:56.467546"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-08') AND "cat_rental_requests"."status" = $3[0m  [["id", 9], ["cat_id", 7], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/7
Completed 302 Found in 20ms (ActiveRecord: 8.5ms)


Started GET "/cats/7" for ::1 at 2020-10-31 19:07:56 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (16.3ms)
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 1.6ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 19:08:02 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 38ms (Views: 37.2ms | ActiveRecord: 0.4ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 19:08:11 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"4", "start_date"=>"2020-11-01", "end_date"=>"2020-11-02"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.8ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 4], ["start_date", "2020-11-01"], ["end_date", "2020-11-02"], ["created_at", "2020-10-31 11:08:11.666164"], ["updated_at", "2020-10-31 11:08:11.666164"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/4
Completed 302 Found in 10ms (ActiveRecord: 2.7ms)


Started GET "/cats/4" for ::1 at 2020-10-31 19:08:11 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 4], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 4]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.3ms)
  Rendered cats/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 35ms (Views: 32.4ms | ActiveRecord: 1.5ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-10-31 19:08:18 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-10-31 19:08:25 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"4", "start_date"=>"2020-11-01", "end_date"=>"2020-11-02"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (1.7ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 4], ["start_date", "2020-11-01"], ["end_date", "2020-11-02"], ["created_at", "2020-10-31 11:08:25.868406"], ["updated_at", "2020-10-31 11:08:25.868406"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/4
Completed 302 Found in 12ms (ActiveRecord: 3.8ms)


Started GET "/cats/4" for ::1 at 2020-10-31 19:08:25 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 4], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 4]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.9ms)
  Rendered cats/_request_tr.html.erb (1.3ms)
  Rendered cats/show.html.erb within layouts/application (16.4ms)
Completed 200 OK in 47ms (Views: 44.7ms | ActiveRecord: 1.4ms)


Started POST "/cat_rental_requests/12/approve" for ::1 at 2020-10-31 19:08:27 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"c5mOmD2mDLnXcKzm7Z7NSy9cX2kpxtm3qpyw8wAvqt/7RVv8NqI5fXm09YvSaBiKEBjp/UdH0TzmhIj0h1NjtQ==", "id"=>"12"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 12], ["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (1.4ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-10-31 11:08:27.453619"], ["id", 12]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3[0m  [["id", 12], ["cat_id", 4], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 13], ["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 16ms (ActiveRecord: 4.9ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/ed69cdafd786b919/variables" for ::1 at 2020-10-31 19:08:27 +0800
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cat_rental_requests" for ::1 at 2020-11-01 14:18:40 +0800

PG::ConnectionBad - could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?:

Started POST "/__better_errors/4f40a4b3b76c11e7/variables" for ::1 at 2020-11-01 14:18:40 +0800
Started GET "/cat_rental_requests" for ::1 at 2020-11-01 14:18:58 +0800
  [1m[35m (5.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cats" for ::1 at 2020-11-01 14:19:10 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (6.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (39.6ms)
Completed 200 OK in 291ms (Views: 255.4ms | ActiveRecord: 27.3ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:19:17 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 59ms (Views: 33.8ms | ActiveRecord: 6.7ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:19:29 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"4", "start_date"=>"2020-12-01", "end_date"=>"2020-12-05"}}
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (6.1ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-12-05' OR end_date < '2020-12-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (7.4ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 4], ["start_date", "2020-12-01"], ["end_date", "2020-12-05"], ["created_at", "2020-11-01 06:19:29.247334"], ["updated_at", "2020-11-01 06:19:29.247334"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/4
Completed 302 Found in 48ms (ActiveRecord: 17.4ms)


Started GET "/cats/4" for ::1 at 2020-11-01 14:19:29 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 4], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 4]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.4ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.5ms)
  Rendered cats/show.html.erb within layouts/application (33.0ms)
Completed 200 OK in 58ms (Views: 53.8ms | ActiveRecord: 2.4ms)


Started POST "/cat_rental_requests/12/approve" for ::1 at 2020-11-01 14:19:33 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"nBnHKibDTlnoLnGTKJWyCoF1HH/ttjm37F3g/ELDdNgUxRJOLcd7nUbqKP4XY2fLvjGq64M3MTygRdj7xb+9sg==", "id"=>"12"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 12], ["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 10ms (ActiveRecord: 1.9ms)



ActiveRecord::RecordInvalid - Validation failed: Start date must be a future date:
  app/models/cat_rental_request.rb:16:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/0e88a65c60e5b493/variables" for ::1 at 2020-11-01 14:19:33 +0800
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/cat_rental_requests/12/deny" for ::1 at 2020-11-01 14:19:41 +0800
Processing by CatRentalRequestsController#deny as HTML
  Parameters: {"authenticity_token"=>"nBnHKibDTlnoLnGTKJWyCoF1HH/ttjm37F3g/ELDdNgUxRJOLcd7nUbqKP4XY2fLvjGq64M3MTygRdj7xb+9sg==", "id"=>"12"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:29
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 12], ["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:29
Completed 422 Unprocessable Entity in 39ms (ActiveRecord: 2.3ms)



ActiveRecord::RecordInvalid - Validation failed: Start date must be a future date:
  app/models/cat_rental_request.rb:29:in `deny!'
  app/controllers/cat_rental_requests_controller.rb:30:in `deny'

Started POST "/__better_errors/28a9018443b97aae/variables" for ::1 at 2020-11-01 14:19:41 +0800
  [1m[36mCat Load (6.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/cat_rental_requests/14/approve" for ::1 at 2020-11-01 14:19:48 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"nBnHKibDTlnoLnGTKJWyCoF1HH/ttjm37F3g/ELDdNgUxRJOLcd7nUbqKP4XY2fLvjGq64M3MTygRdj7xb+9sg==", "id"=>"14"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-05' OR end_date < '2020-12-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 14], ["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (5.0ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-11-01 06:19:48.810859"], ["id", 14]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-12-05' OR end_date < '2020-12-01') AND "cat_rental_requests"."status" = $3[0m  [["id", 14], ["cat_id", 4], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/4
Completed 302 Found in 23ms (ActiveRecord: 8.6ms)


Started GET "/cats/4" for ::1 at 2020-11-01 14:19:48 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 4], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 4]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.6ms)
  Rendered cats/_request_tr.html.erb (1.3ms)
  Rendered cats/_request_tr.html.erb (0.9ms)
  Rendered cats/show.html.erb within layouts/application (21.3ms)
Completed 200 OK in 66ms (Views: 61.4ms | ActiveRecord: 1.9ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:20:08 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 55ms (Views: 52.5ms | ActiveRecord: 0.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:20:15 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"4", "start_date"=>"2020-12-01", "end_date"=>"2020-12-05"}}
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (8.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-12-05' OR end_date < '2020-12-01') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 58ms (Views: 38.4ms | ActiveRecord: 11.6ms)


Started GET "/cats/new" for ::1 at 2020-11-01 14:27:21 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/_form.html.erb (2.6ms)
  Rendered cats/new.html.erb within layouts/application (8.5ms)
Completed 200 OK in 102ms (Views: 62.6ms | ActiveRecord: 13.4ms)


Started GET "/cats/new" for ::1 at 2020-11-01 14:27:55 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (1.9ms)
  Rendered cats/new.html.erb within layouts/application (7.2ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)



SyntaxError - syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
          ^~~~~~
/Users/harrisonlau/Desktop/99cats/ninetynine_cats/app/views/shared/_errors.html.erb:11: syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^:
  app/views/shared/_errors.html.erb:9:in `'
  app/views/cats/new.html.erb:1:in `_app_views_cats_new_html_erb__1844161124482205454_70281092571860'
  app/controllers/cats_controller.rb:18:in `new'

Started POST "/__better_errors/5bb6a9aa17004892/variables" for ::1 at 2020-11-01 14:27:55 +0800
Started GET "/cats/new" for ::1 at 2020-11-01 14:28:20 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered cats/_form.html.erb (1.8ms)
  Rendered cats/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 77ms (Views: 75.6ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-11-01 14:28:26 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"meow2", "birth_date"=>"", "description"=>"        \r\n    "}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:24
  Rendering cats/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.9ms)
  Rendered cats/_form.html.erb (1.8ms)
  Rendered cats/new.html.erb within layouts/application (9.6ms)
Completed 200 OK in 56ms (Views: 42.6ms | ActiveRecord: 0.5ms)


Started GET "/cats" for ::1 at 2020-11-01 14:30:23 +0800
Processing by CatsController#index as HTML
Completed 500 Internal Server Error in 19ms (ActiveRecord: 5.5ms)



NameError - undefined local variable or method `value' for #<Class:0x00007fd72f64f600>
Did you mean?  validate:
  app/models/cat.rb:10:in `<class:Cat>'
  app/models/cat.rb:3:in `<top (required)>'
  app/controllers/cats_controller.rb:3:in `index'

Started POST "/__better_errors/23c700f6d9e9a51d/variables" for ::1 at 2020-11-01 14:30:24 +0800
Started GET "/cats" for ::1 at 2020-11-01 14:31:26 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 61ms (Views: 47.7ms | ActiveRecord: 8.7ms)


Started GET "/catsnew" for ::1 at 2020-11-01 14:31:30 +0800
  
ActionController::RoutingError (No route matches [GET] "/catsnew"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cats/new" for ::1 at 2020-11-01 14:31:33 +0800
Processing by CatsController#new as HTML
  Rendering cats/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered cats/_form.html.erb (3.0ms)
  Rendered cats/new.html.erb within layouts/application (13.6ms)
Completed 200 OK in 54ms (Views: 52.9ms | ActiveRecord: 0.0ms)


Started POST "/cats" for ::1 at 2020-11-01 14:31:37 +0800
Processing by CatsController#create as HTML
  Parameters: {"cat"=>{"name"=>"meow2", "birth_date"=>"", "description"=>"        \r\n    "}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cats_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cats_controller.rb:24
  Rendering cats/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered cats/_form.html.erb (1.2ms)
  Rendered cats/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 50ms (Views: 39.6ms | ActiveRecord: 0.6ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:31:55 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 58ms (Views: 36.4ms | ActiveRecord: 7.3ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:32:03 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-05", "end_date"=>"2020-11-02"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-05') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 48ms (Views: 28.9ms | ActiveRecord: 4.1ms)


Started GET "/cat_rental_requests" for ::1 at 2020-11-01 14:32:28 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:32:33 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (25.2ms)
Completed 200 OK in 84ms (Views: 56.3ms | ActiveRecord: 13.9ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:32:41 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-03", "end_date"=>"2020-11-01"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-01' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.7ms)



NoMethodError - undefined method `<<' for nil:NilClass:
  app/controllers/cat_rental_requests_controller.rb:13:in `create'

Started POST "/__better_errors/ea837e945c7078b5/variables" for ::1 at 2020-11-01 14:32:41 +0800
Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:34:29 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-03", "end_date"=>"2020-11-01"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-01' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 90ms (Views: 32.9ms | ActiveRecord: 16.4ms)


Started GET "/cat_rental_requests/mew" for ::1 at 2020-11-01 14:34:33 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests/mew"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:34:36 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 35ms (Views: 33.4ms | ActiveRecord: 0.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:34:42 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-03", "end_date"=>"2020-11-01"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-01' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 55ms (Views: 27.5ms | ActiveRecord: 1.9ms)


Started GET "/cat_rental_requestsnew" for ::1 at 2020-11-01 14:35:52 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requestsnew"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:35:55 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (26.5ms)
Completed 200 OK in 95ms (Views: 65.7ms | ActiveRecord: 15.1ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:36:02 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2020-11-02", "end_date"=>"2020-11-01"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-01' OR end_date < '2020-11-02') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 1], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:7
  Rendered cat_rental_requests/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 39ms (Views: 26.5ms | ActiveRecord: 2.1ms)


Started GET "/cat_rental_requestsnew" for ::1 at 2020-11-01 14:37:33 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requestsnew"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:37:36 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.7ms)
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (37.1ms)
Completed 200 OK in 128ms (Views: 93.6ms | ActiveRecord: 16.3ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:37:43 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-03", "end_date"=>"2020-11-01"}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-01' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.5ms)
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (9.6ms)
Completed 200 OK in 91ms (Views: 67.6ms | ActiveRecord: 3.5ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:38:24 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-03", "end_date"=>"2020-11-05"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-05' OR end_date < '2020-11-03') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (1.5ms)
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 93ms (Views: 77.3ms | ActiveRecord: 2.8ms)


Started GET "/cat_rental_requestsnew" for ::1 at 2020-11-01 14:38:33 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requestsnew"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:38:51 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (1.2ms)
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (9.1ms)
Completed 200 OK in 46ms (Views: 43.9ms | ActiveRecord: 0.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:38:57 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-10", "end_date"=>"2020-11-11"}}
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-11-10"], ["end_date", "2020-11-11"], ["created_at", "2020-11-01 06:38:57.682300"], ["updated_at", "2020-11-01 06:38:57.682300"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 16ms (ActiveRecord: 6.9ms)


Started GET "/cats/2" for ::1 at 2020-11-01 14:38:57 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.6ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (18.8ms)
Completed 200 OK in 48ms (Views: 44.2ms | ActiveRecord: 2.0ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-11-01 14:39:11 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.8ms)
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (8.9ms)
Completed 200 OK in 40ms (Views: 38.5ms | ActiveRecord: 0.7ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-01 14:39:17 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-10", "end_date"=>"2020-11-11"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-11-10"], ["end_date", "2020-11-11"], ["created_at", "2020-11-01 06:39:17.635022"], ["updated_at", "2020-11-01 06:39:17.635022"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)


Started GET "/cats/2" for ::1 at 2020-11-01 14:39:17 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.3ms)
  Rendered cats/_request_tr.html.erb (0.5ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.3ms)
  Rendered cats/show.html.erb within layouts/application (17.9ms)
Completed 200 OK in 65ms (Views: 45.1ms | ActiveRecord: 1.5ms)


Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-01 14:39:21 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"JOPh/kAujxEcFbYxsj6vP98BICkDaqtNlkqhRUWa4Y+sPzSaSyq61bLR71yNyHr+4EWWvW3ro8baUplCwuYo5Q==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-11-01 06:39:21.076099"], ["id", 15]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:20
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 20ms (ActiveRecord: 5.2ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:20:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/1866e763eef92115/variables" for ::1 at 2020-11-01 14:39:21 +0800
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/1866e763eef92115/variables" for ::1 at 2020-11-01 14:39:24 +0800
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/1866e763eef92115/variables" for ::1 at 2020-11-01 14:39:27 +0800
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/1866e763eef92115/variables" for ::1 at 2020-11-01 14:39:29 +0800
Started POST "/__better_errors/1866e763eef92115/eval" for ::1 at 2020-11-01 14:39:38 +0800
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Started POST "/__better_errors/1866e763eef92115/eval" for ::1 at 2020-11-01 14:39:51 +0800
Started POST "/__better_errors/1866e763eef92115/eval" for ::1 at 2020-11-01 14:40:03 +0800
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/1866e763eef92115/eval" for ::1 at 2020-11-01 14:40:11 +0800
Started POST "/__better_errors/1866e763eef92115/eval" for ::1 at 2020-11-01 14:40:17 +0800
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:56
Started GET "/cats/2" for ::1 at 2020-11-01 14:43:06 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (2.3ms)
  Rendered cats/_request_tr.html.erb (0.8ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (38.8ms)
Completed 200 OK in 103ms (Views: 74.5ms | ActiveRecord: 14.1ms)


Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-01 14:43:08 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"PpbF492bMgxLVz9UG/H7jQxTX7vz2gIbS9LD1Nh6Hei2ShCH1p8HyOWTZjkkBy5MMxfpL51bCpAHyvvTXwbUgg==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-11-01 06:43:08.496960"], ["id", 15]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:23
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 5053ms (ActiveRecord: 4.8ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:23:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/08b53bf385bea89e/variables" for ::1 at 2020-11-01 14:43:13 +0800
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cats/2" for ::1 at 2020-11-01 14:43:33 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.8ms)
  Rendered cats/_request_tr.html.erb (0.8ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (51.1ms)
Completed 200 OK in 119ms (Views: 83.4ms | ActiveRecord: 14.3ms)


Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-01 14:43:34 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"Lc/ML+s+V6wvPnkjjRzp7A9/DS1CuvlfvYBZB+3cuoKlExlL4DpiaIH6IE6y6jwtMDu7uSw78dTxmGEAaqBz6A==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-11-01 06:43:34.592462"], ["id", 15]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:23
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 10032ms (ActiveRecord: 5.5ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:23:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/fcc7cb498436d280/variables" for ::1 at 2020-11-01 14:43:44 +0800
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started POST "/__better_errors/fcc7cb498436d280/eval" for ::1 at 2020-11-01 14:44:01 +0800
Started POST "/__better_errors/fcc7cb498436d280/eval" for ::1 at 2020-11-01 14:44:05 +0800
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
Started POST "/__better_errors/fcc7cb498436d280/eval" for ::1 at 2020-11-01 14:44:08 +0800
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:23
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-11-01 06:44:08.120803"], ["id", 16]]
  â†³ app/models/cat_rental_request.rb:23
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:23
Started POST "/__better_errors/fcc7cb498436d280/eval" for ::1 at 2020-11-01 14:44:13 +0800
Started POST "/__better_errors/fcc7cb498436d280/eval" for ::1 at 2020-11-01 14:44:32 +0800
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:23
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:23
Started POST "/__better_errors/fcc7cb498436d280/eval" for ::1 at 2020-11-01 14:44:45 +0800
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:23
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:57
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2020-11-01 06:44:45.090537"], ["id", 16]]
  â†³ app/models/cat_rental_request.rb:23
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:23
Started POST "/__better_errors/fcc7cb498436d280/eval" for ::1 at 2020-11-01 14:44:47 +0800
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-04 00:20:47 +0800
  [1m[35m (4.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.6ms)
  [1m[36mCat Load (4.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (37.3ms)
Completed 200 OK in 384ms (Views: 334.5ms | ActiveRecord: 27.8ms)


Started GET "/cats" for ::1 at 2020-11-04 00:20:52 +0800
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (3.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 63ms (Views: 59.2ms | ActiveRecord: 3.0ms)


Started GET "/cats/3" for ::1 at 2020-11-04 00:20:57 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 3], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 3]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (54.8ms)
Completed 200 OK in 100ms (Views: 73.9ms | ActiveRecord: 6.5ms)


Started GET "/cats/4" for ::1 at 2020-11-04 00:21:01 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 4], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 4]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.8ms)
  Rendered cats/_request_tr.html.erb (1.2ms)
  Rendered cats/_request_tr.html.erb (1.8ms)
  Rendered cats/show.html.erb within layouts/application (26.3ms)
Completed 200 OK in 68ms (Views: 63.5ms | ActiveRecord: 2.2ms)


Started POST "/cat_rental_requests/12/approve" for ::1 at 2020-11-04 00:21:04 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"f3jw0IvTrrpkf7HGC5E3RgEOcpsSj70vbDmOyAPTxtUF4qnPnspjkaHj++3RpicR4iEUD9H19nMsEVmLIGLdAg==", "id"=>"12"}
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-02' OR end_date < '2020-11-01') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 12], ["cat_id", 4], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:58
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 17ms (ActiveRecord: 4.3ms)



ActiveRecord::RecordInvalid - Validation failed: Start date must be a future date:
  app/models/cat_rental_request.rb:16:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/55c675292e74ce7a/variables" for ::1 at 2020-11-04 00:21:04 +0800
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cat_rental_requests" for ::1 at 2020-11-04 00:21:18 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-04 00:21:21 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.6ms)
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (7.5ms)
Completed 200 OK in 35ms (Views: 33.7ms | ActiveRecord: 0.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-04 00:21:29 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-11", "end_date"=>"2020-11-14"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-11') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:58
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (8.8ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-11-11"], ["end_date", "2020-11-14"], ["created_at", "2020-11-03 16:21:29.549330"], ["updated_at", "2020-11-03 16:21:29.549330"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 21ms (ActiveRecord: 11.0ms)


Started GET "/cats/2" for ::1 at 2020-11-04 00:21:29 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.1ms)
  Rendered cats/_request_tr.html.erb (0.6ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (20.6ms)
Completed 200 OK in 44ms (Views: 41.7ms | ActiveRecord: 1.4ms)


Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-04 00:21:36 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"GPeSYJzyrfL+h330y+9b/poX4z2eZOJfcrSDpH2oGjtibct/ietg2TsbN98R2EupeTiFqV0eqQMynFTnXhkB7A==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:58
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Update (2.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-11-03 16:21:36.843866"], ["id", 15]]
  â†³ app/models/cat_rental_request.rb:16
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:19
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:58
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:24
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 422 Unprocessable Entity in 18ms (ActiveRecord: 5.4ms)



ActiveRecord::RecordInvalid - Validation failed: Request conflict:
  app/models/cat_rental_request.rb:24:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:19:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/0f6f9cc743bc7053/variables" for ::1 at 2020-11-04 00:21:36 +0800
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Started GET "/cats" for ::1 at 2020-11-05 21:55:12 +0800
  [1m[35m (5.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/harrisonlau/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (7.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:4
  Rendered cats/index.html.erb within layouts/application (45.8ms)
Completed 200 OK in 331ms (Views: 281.2ms | ActiveRecord: 28.0ms)


Started GET "/cats/2" for ::1 at 2020-11-05 21:55:17 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (2.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.7ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (86.7ms)
Completed 200 OK in 120ms (Views: 94.0ms | ActiveRecord: 18.9ms)


Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-05 21:55:24 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"BGVGG8bSRIgmV9KYk/GU8y2adHPVl7RwCGDrrKHHRF+MuZN/zdZxTIiTi/WsB0EyEt7C57sWvPtEeNOrJruNNQ==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:14
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.0ms)



NoMethodError - undefined method `does_not_verlap_approved_requests' for #<CatRentalRequest:0x00007ff920d3e0c0>
Did you mean?  does_not_overlap_approved_requests:
  app/models/cat_rental_request.rb:15:in `block in approve!'
  app/models/cat_rental_request.rb:14:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:23:in `approve'

Started POST "/__better_errors/27f1432625c4ac76/variables" for ::1 at 2020-11-05 21:55:24 +0800
Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-05 21:55:37 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"BGVGG8bSRIgmV9KYk/GU8y2adHPVl7RwCGDrrKHHRF+MuZN/zdZxTIiTi/WsB0EyEt7C57sWvPtEeNOrJruNNQ==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:60
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:21
  [1m[36mCatRentalRequest Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 16], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:60
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:26
  [1m[36mCatRentalRequest Update (8.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-11-05 13:55:37.206432"], ["id", 16]]
  â†³ app/models/cat_rental_request.rb:26
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-14' OR end_date < '2020-11-11') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 17], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:60
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:26
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-11-05 13:55:37.221755"], ["id", 17]]
  â†³ app/models/cat_rental_request.rb:26
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 86ms (ActiveRecord: 31.9ms)


Started GET "/cats/2" for ::1 at 2020-11-05 21:55:37 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (1.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (26.5ms)
Completed 200 OK in 87ms (Views: 80.9ms | ActiveRecord: 2.4ms)


Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-05 21:55:45 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"Uwx2avTOFzkBnLfDyFzlFod7rcDc03JELRdINdacpA3b0KMO/8oi/a9Y7q73qjDXuD8bVLJSes9hD3AyUeBtZw==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:60
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:21
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)


Started GET "/cats/2" for ::1 at 2020-11-05 21:55:45 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.6ms)
  Rendered cats/_request_tr.html.erb (1.4ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 57ms (Views: 53.6ms | ActiveRecord: 1.7ms)


Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-05 21:55:59 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"T+ZjrGEAq33mdRNhPofo7MWc+WOJhizmJEQJh4hXdUvHOrbIagSeuUixSgwBcT0t+thP9+cHJG1oXDGADyu8IQ==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:60
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)


Started GET "/cats/2" for ::1 at 2020-11-05 21:55:59 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.1ms)
  Rendered cats/_request_tr.html.erb (2.2ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.5ms)
  Rendered cats/show.html.erb within layouts/application (30.9ms)
Completed 200 OK in 64ms (Views: 60.7ms | ActiveRecord: 1.8ms)


Started GET "/cats/2" for ::1 at 2020-11-05 21:56:42 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (1.0ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (48.1ms)
Completed 200 OK in 108ms (Views: 76.9ms | ActiveRecord: 14.2ms)


Started POST "/cat_rental_requests/15/approve" for ::1 at 2020-11-05 21:56:44 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"H6e9X05i0xFTuF/DNTv17o2WMP9d07GYvvQllV56VAOXe2g7RWbm1f18Bq4KzSAvstKGazNSuRPy7B2S2QadaQ==", "id"=>"15"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 15], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:60
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:17
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-11-05 13:56:44.130246"], ["id", 15]]
  â†³ app/models/cat_rental_request.rb:17
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-11' OR end_date < '2020-11-10') AND "cat_rental_requests"."status" = $3[0m  [["id", 15], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:21
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 22ms (ActiveRecord: 4.0ms)


Started GET "/cats/2" for ::1 at 2020-11-05 21:56:44 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (27.6ms)
Completed 200 OK in 62ms (Views: 59.4ms | ActiveRecord: 1.3ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-11-05 21:56:52 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.8ms)
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (10.2ms)
Completed 200 OK in 44ms (Views: 41.7ms | ActiveRecord: 0.5ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-05 21:57:01 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-11", "end_date"=>"2020-11-13"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-13' OR end_date < '2020-11-11') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:60
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.5ms)
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (7.0ms)
Completed 200 OK in 64ms (Views: 37.1ms | ActiveRecord: 2.0ms)


Started GET "/cat_rental_requests" for ::1 at 2020-11-05 22:05:12 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-05 22:05:16 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.6ms)
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (30.6ms)
Completed 200 OK in 116ms (Views: 74.1ms | ActiveRecord: 21.4ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-05 22:05:24 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-11", "end_date"=>"2020-11-13"}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.6ms)



NoMethodError - undefined method `denied' for #<CatRentalRequest:0x00007ff91b529b50>:
  app/models/cat_rental_request.rb:60:in `does_not_overlap_approved_requests'
  app/controllers/cat_rental_requests_controller.rb:10:in `create'

Started POST "/__better_errors/a2a17899b2f414fb/variables" for ::1 at 2020-11-05 22:05:24 +0800
Started POST "/cat_rental_requests" for ::1 at 2020-11-05 22:05:54 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-11", "end_date"=>"2020-11-13"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-13' OR end_date < '2020-11-11') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:65
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.7ms)
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 98ms (Views: 41.9ms | ActiveRecord: 16.4ms)


Started GET "/cat_rental_requests" for ::1 at 2020-11-05 22:06:07 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-05 22:06:11 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.6ms)
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 59ms (Views: 57.8ms | ActiveRecord: 0.4ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-05 22:06:17 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-11", "end_date"=>"2020-11-13"}}
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-13' OR end_date < '2020-11-11') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:65
  [1m[36mCat Load (4.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (1.0ms)
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (9.5ms)
Completed 200 OK in 57ms (Views: 40.6ms | ActiveRecord: 8.9ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-05 22:06:46 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-18", "end_date"=>"2020-11-20"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-20' OR end_date < '2020-11-18') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:65
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (9.8ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-11-18"], ["end_date", "2020-11-20"], ["created_at", "2020-11-05 14:06:46.139688"], ["updated_at", "2020-11-05 14:06:46.139688"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 22ms (ActiveRecord: 13.0ms)


Started GET "/cats/2" for ::1 at 2020-11-05 22:06:46 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (2.0ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (31.0ms)
Completed 200 OK in 59ms (Views: 54.5ms | ActiveRecord: 2.3ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-11-05 22:06:55 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.7ms)
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 50ms (Views: 47.5ms | ActiveRecord: 0.5ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-05 22:07:09 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-11-18", "end_date"=>"2020-11-20"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2020-11-20' OR end_date < '2020-11-18') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:65
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.5ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-11-18"], ["end_date", "2020-11-20"], ["created_at", "2020-11-05 14:07:09.677652"], ["updated_at", "2020-11-05 14:07:09.677652"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)


Started GET "/cats/2" for ::1 at 2020-11-05 22:07:09 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.3ms)
  Rendered cats/_request_tr.html.erb (0.9ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (28.2ms)
Completed 200 OK in 65ms (Views: 60.3ms | ActiveRecord: 2.3ms)


Started POST "/cat_rental_requests/18/approve" for ::1 at 2020-11-05 22:07:11 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"3tQ60IWwCwPSoAauCAZpasm848bJ3sfRF/sx19p9x5FWCO+0jrQ+x3xkX8M38Lyr9vhVUqdfz1pb4wnQXQEO+w==", "id"=>"18"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:14
  [1m[36mCatRentalRequest Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-20' OR end_date < '2020-11-18') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 18], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:65
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:17
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-11-05 14:07:11.596295"], ["id", 18]]
  â†³ app/models/cat_rental_request.rb:17
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2020-11-20' OR end_date < '2020-11-18') AND "cat_rental_requests"."status" = $3[0m  [["id", 18], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:21
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:22
  [1m[36mCatRentalRequest Update (0.4ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-11-05 14:07:11.601790"], ["id", 19]]
  â†³ app/models/cat_rental_request.rb:22
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:14
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 16ms (ActiveRecord: 3.9ms)


Started GET "/cats/2" for ::1 at 2020-11-05 22:07:11 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.6ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (24.8ms)
Completed 200 OK in 52ms (Views: 48.2ms | ActiveRecord: 2.7ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-11-05 22:17:22 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.5ms)
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (30.7ms)
Completed 200 OK in 112ms (Views: 72.4ms | ActiveRecord: 22.2ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-05 22:17:38 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-12-31", "end_date"=>"2021-12-01"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2021-12-01' OR end_date < '2020-12-31') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:70
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (1.1ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-12-31"], ["end_date", "2021-12-01"], ["created_at", "2020-11-05 14:17:38.830278"], ["updated_at", "2020-11-05 14:17:38.830278"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 26ms (ActiveRecord: 8.4ms)


Started GET "/cats/2" for ::1 at 2020-11-05 22:17:38 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.5ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (33.5ms)
Completed 200 OK in 59ms (Views: 55.6ms | ActiveRecord: 2.0ms)


Started GET "/cat_rental_requests" for ::1 at 2020-11-05 22:17:43 +0800
  
ActionController::RoutingError (No route matches [GET] "/cat_rental_requests"):
  
actionpack (5.2.4.4) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.4.4) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.4.4) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.4.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.4.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.4.4) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.4.4) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/cat_rental_requests/new" for ::1 at 2020-11-05 22:17:48 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (1.0ms)
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 38ms (Views: 36.8ms | ActiveRecord: 0.4ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-05 22:18:12 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2020-12-31", "end_date"=>"2021-01-01"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2021-01-01' OR end_date < '2020-12-31') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:70
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (1.1ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2020-12-31"], ["end_date", "2021-01-01"], ["created_at", "2020-11-05 14:18:12.501962"], ["updated_at", "2020-11-05 14:18:12.501962"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 20ms (ActiveRecord: 4.2ms)


Started GET "/cats/2" for ::1 at 2020-11-05 22:18:12 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.7ms)
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (36.8ms)
Completed 200 OK in 61ms (Views: 57.4ms | ActiveRecord: 2.1ms)


Started POST "/cat_rental_requests/20/approve" for ::1 at 2020-11-05 22:18:27 +0800
Processing by CatRentalRequestsController#approve as HTML
  Parameters: {"authenticity_token"=>"IduQb2txnmGnbviuY4LuUYfnqgXjHPEcfv20n2P0ETKpB0ULYHWrpQmqocNcdDuQuKMckY2d+Zcy5YyY5IjYWA==", "id"=>"20"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT  "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:21
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:15
  [1m[36mCatRentalRequest Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2021-12-01' OR end_date < '2020-12-31') AND "cat_rental_requests"."status" = $3 LIMIT $4[0m  [["id", 20], ["cat_id", 2], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:70
  [1m[36mCat Load (1.2ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:18
  [1m[36mCatRentalRequest Update (2.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2020-11-05 14:18:40.858006"], ["id", 20]]
  â†³ app/models/cat_rental_request.rb:18
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" != $1 AND "cat_rental_requests"."cat_id" = $2 AND NOT (start_date > '2021-12-01' OR end_date < '2020-12-31') AND "cat_rental_requests"."status" = $3[0m  [["id", 20], ["cat_id", 2], ["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:22
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:23
  [1m[36mCatRentalRequest Update (1.0ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2020-11-05 14:18:40.908836"], ["id", 21]]
  â†³ app/models/cat_rental_request.rb:23
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:15
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 48925ms (ActiveRecord: 10.5ms)


Started GET "/cats/2" for ::1 at 2020-11-05 22:19:16 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 2], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (0.7ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/show.html.erb within layouts/application (33.4ms)
Completed 200 OK in 68ms (Views: 63.2ms | ActiveRecord: 2.1ms)


Started GET "/cat_rental_requests/new" for ::1 at 2020-11-05 22:19:45 +0800
Processing by CatRentalRequestsController#new as HTML
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.9ms)
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:9
  Rendered cat_rental_requests/new.html.erb within layouts/application (26.2ms)
Completed 200 OK in 87ms (Views: 49.5ms | ActiveRecord: 13.6ms)


Started POST "/cat_rental_requests" for ::1 at 2020-11-05 22:20:06 +0800
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"7", "start_date"=>"2021-01-31", "end_date"=>"2021-02-14"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" IS NOT NULL AND "cat_rental_requests"."cat_id" = $1 AND NOT (start_date > '2021-02-14' OR end_date < '2021-01-31') AND "cat_rental_requests"."status" = $2 LIMIT $3[0m  [["cat_id", 7], ["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:70
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[36mCatRentalRequest Create (0.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 7], ["start_date", "2021-01-31"], ["end_date", "2021-02-14"], ["created_at", "2020-11-05 14:20:56.006905"], ["updated_at", "2020-11-05 14:20:56.006905"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:10
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:10
Redirected to http://localhost:3000/cats/7
Completed 302 Found in 49008ms (ActiveRecord: 2.8ms)


Started GET "/cats/7" for ::1 at 2020-11-05 22:20:56 +0800
Processing by CatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT  "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 LIMIT $2[0m  [["cat_id", 7], ["LIMIT", 1]]
  â†³ app/views/cats/show.html.erb:23
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY start_date DESC[0m  [["cat_id", 7]]
  â†³ app/views/cats/show.html.erb:35
  Rendered cats/_request_tr.html.erb (1.8ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.1ms)
  Rendered cats/_request_tr.html.erb (0.2ms)
  Rendered cats/show.html.erb within layouts/application (29.8ms)
Completed 200 OK in 71ms (Views: 67.3ms | ActiveRecord: 1.6ms)


